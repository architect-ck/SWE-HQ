(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{24085:(e,t,l)=>{"use strict";l.d(t,{E:()=>a});var s=l(77528),r=l(55456),n=l(35593),i=l(9640);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.Kn5)(i.nS,{},(0,r._)((0,s._)({},e),{select:e=>{var t;return e.questionTopicTags?(null!==(t=e.questionTopicTags.edges.map(e=>null==e?void 0:e.node))&&void 0!==t?t:[]).map(e=>({slug:"",tagId:(null==e?void 0:e.tagId)||0,name:(null==e?void 0:e.name)||""})):null}}))}},48246:(e,t,l)=>{"use strict";l.d(t,{$:()=>v});var s=l(96540),r=l(35593),n=l(9640),i=l(77528),a=l(55456),o=l(63064),d=l(72556),u=l(24085);let c=(e,t)=>null==e?void 0:e.find(e=>e.tagId===t),m=()=>{let e=(0,o.jE)(),{data:t}=(0,u.E)();return{optimisticUpdateSubmissionDetailsNoteData:(0,d._)(l=>{var s,n;let o=r.YUQ.getKey({submissionId:Number(l.submissionId)});if(!e.getQueryData(o))return;let d=null!==(n=null==l?void 0:null===(s=l.tagIds)||void 0===s?void 0:s.map(e=>c(t,e)).filter(e=>!!e))&&void 0!==n?n:[];e.setQueryData(o,e=>{var t,s;return(null==e?void 0:e.submissionDetails)?{submissionDetails:(0,a._)((0,i._)({},e.submissionDetails),{flagType:null!==(t=l.flagType)&&void 0!==t?t:e.submissionDetails.flagType,notes:null!==(s=l.note)&&void 0!==s?s:e.submissionDetails.notes,topicTags:d})}:{}})})}};var x=l(64011);let p=()=>{let e=(0,o.jE)(),t=(0,x.j_)(e=>e.questionSlug);return{optimisticUpdateSubmissionListNoteData:(0,d._)(l=>{e.getQueryCache().findAll(r._es.getKey({questionSlug:t,offset:0,limit:20,lastKey:null}),{exact:!1}).filter(e=>!e.state.isInvalidated).forEach(t=>{e.setQueryData(t.queryKey,e=>e?(0,a._)((0,i._)({},e),{pages:e.pages.map(e=>{var t;return(0,a._)((0,i._)({},e),{submissions:null===(t=e.submissions)||void 0===t?void 0:t.map(e=>{if((null==e?void 0:e.id)===l.submissionId){var t,s;return(0,a._)((0,i._)({},e),{flagType:null!==(t=l.flagType)&&void 0!==t?t:e.flagType,notes:null!==(s=l.note)&&void 0!==s?s:e.notes})}return e})})})}):{pageParams:[],pages:[]})})})}},v=()=>{let{optimisticUpdateSubmissionDetailsNoteData:e}=m(),{optimisticUpdateSubmissionListNoteData:t}=p(),{mutateAsync:l}=(0,r.OlV)(n.nS,{onMutate:l=>{e(l),t(l)}});return(0,s.useCallback)(e=>{let{submissionId:t,note:s,tagIds:r,flagType:n}=e;return l({submissionId:String(t),note:s,tagIds:r,flagType:n})},[l])}},69874:(e,t,l)=>{"use strict";l.d(t,{r:()=>a});var s=l(77528),r=l(55456),n=l(4418),i=l(74848);l(96540);let a=function(e){var{ref:t}=e,l=(0,n._)(e,["ref"]);return(0,i.jsx)("svg",(0,r._)((0,s._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},l),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.929 7.913l7.078 7.057 7.064-7.057a1 1 0 111.414 1.414l-7.77 7.764a1 1 0 01-1.415 0L3.515 9.328a1 1 0 011.414-1.414z",clipRule:"evenodd"})}))}},57256:(e,t,l)=>{"use strict";l.d(t,{N:()=>x});var s=l(74848),r=l(79656),n=l(84038),i=l(96540),a=l(48400),o=l(82479),d=l(52993),u=l(76033);let c=e=>{let{truncated:t,onToggle:l,className:i}=e,{t:a}=(0,n.Bd)("common",{keyPrefix:"truncatedContent"}),c=t?r.Ke8:r.LFj;return(0,s.jsxs)("button",{className:(0,o.xF)(d.B8.labelTextTertiary,d.wu.labelTextSecondary,"inline-flex h-4 items-center justify-center gap-1 pl-1 text-xs",i),onClick:l,children:[(0,s.jsx)("span",{children:a(t?"showMore":"showLess")}),(0,s.jsx)(u.d,{variant:"12px",padding:"none",icon:c,className:"origin-center scale-75"})]})},m=e=>{let{children:t,lines:l=4}=e,[r,n]=(0,i.useState)(!0),d=(0,s.jsx)(c,{truncated:r,onToggle:()=>n(!r),className:(0,o.xF)({"absolute bottom-0 right-0":!r})});return r?(0,s.jsx)(a.A,{lines:l,ellipsis:(0,s.jsxs)(s.Fragment,{children:["...",d]}),children:(0,s.jsx)("div",{children:t})}):(0,s.jsxs)("div",{className:"relative",children:[t,(0,s.jsx)("span",{className:"inline-block h-2 w-20"}),d]})},x=e=>{let{children:t,className:l,preClassName:r,type:n="normal"}=e;return(0,s.jsx)("div",{className:(0,o.xF)(d.B8.bgFillQuaternary,"w-full rounded px-2 py-1.5",l),children:(0,s.jsx)("pre",{className:(0,o.xF)(d.B8.labelTextSecondary,"font-menlo m-0 whitespace-pre-wrap p-0 text-[11px] leading-[14px]",{[(0,o.xF)(d.B8.labelRed60,"text-xs")]:"error"===n},r),children:"normal"===n?(0,s.jsx)(m,{children:t}):t})})}},51587:(e,t,l)=>{"use strict";l.d(t,{_:()=>a});var s=l(74848),r=l(82479),n=l(52993),i=l(57256);let a=e=>{let{errorTitle:t,errorMessage:l}=e;return t||l?(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:(0,r.xF)(n.B8.labelRed60,"text-xl font-semibold"),children:t}),l&&(0,s.jsx)(i.N,{type:"error",className:"mt-2",children:l})]}):null}},11499:(e,t,l)=>{"use strict";l.d(t,{D:()=>W});var s=l(77528),r=l(55456),n=l(74848),i=l(96540),a=l(84038),o=l(82479),d=l(52993),u=l(36768),c=l(62202),m=l(18007),x=l(82684),p=l(69874),v=l(4418);let f=function(e){var{ref:t}=e,l=(0,v._)(e,["ref"]);return(0,n.jsx)("svg",(0,r._)((0,s._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},l),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M19.071 16.091l-7.078-7.057-7.064 7.057a1 1 0 01-1.414-1.414l7.77-7.764a1 1 0 011.415 0l7.785 7.764a1 1 0 01-1.414 1.415z",clipRule:"evenodd"})}))};var g=l(57900),h=l(95125),b=l(57256),j=l(24773),y=l.n(j),w=l(94911),N=l(74238),T=l(48452),S=l(76033);let C=e=>{let{children:t,maxHeight:l,expandLabel:s,collapseLabel:r,expandContainerClassName:u}=e,{t:c}=(0,a.Bd)("common"),m=(0,i.useRef)(null),[x,p]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{var e;let t=null===(e=m.current)||void 0===e?void 0:e.scrollHeight;t&&f(t>l)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[l,x]),(0,n.jsxs)("div",{className:"relative flex flex-col",children:[v&&(0,n.jsxs)("button",{onClick:()=>p(!x),className:(0,o.xF)(d.B8.labelTextSecondary,d.wu.labelTextPrimary,"absolute -top-8 right-0 mt-1 px-2 py-1 text-xs font-medium","flex items-center gap-1"),children:[(0,n.jsx)(S.d,{icon:x?T.tYG:T.u0S,variant:"12px",padding:"none",style:{"--fa-secondary-opacity":1}}),x?null!=r?r:c("collapse"):null!=s?s:c("expand")]}),(0,n.jsx)("div",{ref:m,className:"w-full overflow-hidden",style:{maxHeight:x?"none":l},children:t}),v&&(0,n.jsx)("div",{className:(0,o.xF)("flex w-full justify-end",{"absolute bottom-0 left-0 h-6":!x},u)})]})},B=e=>{let t=Object.keys(e).sort((e,t)=>e.localeCompare(t)),l={};for(let s of t)l[s]=e[s];return l},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e||"number"==typeof e||"boolean"==typeof e?String(e):"string"==typeof e?t.quoteStrings?'"'.concat(e,'"'):e:JSON.stringify(Array.isArray(e)?e:B(e))},E=e=>"string"==typeof e&&e.includes("\n"),k=e=>{let{actual:t,expected:l,className:s}=e,r=(0,w.h)();return(0,n.jsxs)("div",{className:(0,o.xF)("w-full",s),children:[(0,n.jsx)("pre",{className:"text-xs",children:(0,n.jsx)("span",{className:"bg-sd-danger/50 px-2",children:"- Expected"})}),(0,n.jsx)("pre",{className:"mb-4 text-xs",children:(0,n.jsx)("span",{className:"bg-sd-green-500/50 px-2",children:"+ Received"})}),(0,n.jsx)(C,{maxHeight:90,expandContainerClassName:"bg-gradient-to-b from-transparent from-0% to-[#333] to-100%",children:(0,n.jsx)(y(),{oldValue:l,newValue:t,splitView:!1,compareMethod:j.DiffMethod.WORDS_WITH_SPACE,useDarkTheme:r,hideLineNumbers:!0,showDiffOnly:!1,styles:{variables:{dark:{addedBackground:"hsl(var(--sd-green-500) / 15%)",wordAddedBackground:"hsl(var(--sd-green-500) / 50%)",removedBackground:"hsl(var(--sd-danger) / 15%)",wordRemovedBackground:"hsl(var(--sd-danger) / 50%)"},light:{addedBackground:"hsl(var(--sd-green-500) / 15%)",wordAddedBackground:"hsl(var(--sd-green-500) / 50%)",removedBackground:"hsl(var(--sd-danger) / 15%)",wordRemovedBackground:"hsl(var(--sd-danger) / 50%)"}},marker:{verticalAlign:"middle"},diffContainer:{background:"transparent"},wordDiff:{padding:"0",display:"inline"},line:{"> td > pre":{fontSize:"12px",lineHeight:"16px !important",minHeight:"16px !important"}},content:{height:"16px"}}})})]})},F=e=>{let{actual:t,expected:l,className:s}=e,r=(0,w.h)();return(0,n.jsx)("div",{className:(0,o.xF)("w-full",s),children:(0,n.jsx)(y(),{oldValue:l,newValue:t,splitView:!1,compareMethod:j.DiffMethod.WORDS_WITH_SPACE,useDarkTheme:r,hideLineNumbers:!0,showDiffOnly:!1,styles:{variables:{dark:{addedBackground:"transparent",wordAddedBackground:"hsl(var(--sd-green-500) / 50%)",removedBackground:"transparent",wordRemovedBackground:"hsl(var(--sd-danger) / 50%)"},light:{addedBackground:"transparent",wordAddedBackground:"hsl(var(--sd-green-500) / 50%)",removedBackground:"transparent",wordRemovedBackground:"hsl(var(--sd-danger) / 50%)"}},marker:{verticalAlign:"top","> pre":{display:"none"}},diffRemoved:{":first-child:before":{content:"'Expected:'",display:"block",fontFamily:"SFMono-Regular,Menlo,Monaco,Consolas,monospace",fontSize:"12px",lineHeight:"16px !important",minHeight:"16px !important"}},diffAdded:{":first-child:before":{content:"'Received:'",display:"block",fontFamily:"SFMono-Regular,Menlo,Monaco,Consolas,monospace",fontSize:"12px",lineHeight:"16px !important",minHeight:"16px !important"}},diffContainer:{background:"transparent"},wordDiff:{padding:"0",display:"inline"},line:{"> td > pre":{fontSize:"12px",lineHeight:"16px !important",minHeight:"16px !important"}},content:{height:"16px"}}})})},_=e=>{let{codePreview:t,actual:l,expected:s,hasDiff:r,shortMessage:i}=e,a=E(l)||E(s),[u,c]=[I(l,{quoteStrings:!a}),I(s,{quoteStrings:!a})];return(0,n.jsxs)("div",{className:(0,o.xF)(d.B8.bgFillQuaternary,"w-full rounded px-2 py-1.5"),children:[(0,h.$)(r&&!a&&(0,n.jsx)(F,{actual:u,expected:c}),r&&a&&(0,n.jsx)(k,{actual:u,expected:c}),i&&(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-medium",children:i})),t&&(0,n.jsx)("div",{className:"mt-4 w-full",children:(0,n.jsx)(N.d,{code:t,lang:"javascript",className:"[&_code_span]:!text-xs"})})]})};var M=l(93127),L=l(63628),D=l(20239),R=l(50201),A=l(89712),P=l(79548);let q=e=>{var t,l;let{testCode:s}=e,{t:r}=(0,a.Bd)("console",{keyPrefix:"result"}),i=null!==(l=null===(t=(0,L.U)())||void 0===t?void 0:t.openTestcaseTab)&&void 0!==l?l:()=>void 0,{toast:u}=(0,D.dj)(),c=async()=>{let e;let t=(0,A.NC)(s),l=-1===t.startLine;if(l&&0===t.linesCount)return;let n=P.c.getState().editor,a=null==n?void 0:n.getModel(),o=R.r.getState().testcaseList[0];if(l){var d,c,m;let l=1===o.split("\n").length?"":"\n\n",i=null==n?void 0:null===(d=n.getModel())||void 0===d?void 0:d.getFullModelRange();i&&(null==n||n.executeEdits("useTestcase",[{range:i,text:"".concat(o).concat(l).concat(s),forceMoveMarkers:!1}])),await (null==n?void 0:null===(c=n.getAction("editor.action.formatDocument"))||void 0===c?void 0:c.run()),u({variant:"success",description:r("addedTestcaseMessage"),duration:1500}),e=(null!==(m=null==a?void 0:a.getLineCount())&&void 0!==m?m:0)-t.linesCount+1}else u({variant:"info",description:r("testcaseExistsMessage"),duration:2e3}),e=t.startLine;i(),setTimeout(async()=>{var l;let s=null!==(l=null==a?void 0:a.getLineMaxColumn(e))&&void 0!==l?l:0;null==n||n.setPosition({lineNumber:e,column:s}),null==n||n.revealLineInCenter(e),null==n||n.focus(),(0,A.Vf)(),(0,A.mJ)([e,e+t.linesCount-1])},0)};return(0,n.jsx)("div",{children:(0,n.jsxs)("button",{className:(0,o.xF)(d.B8.labelTextPrimary,d.wu.bgFillSecondary,"flex cursor-pointer items-center gap-1 rounded p-1"),onClick:c,children:[(0,n.jsx)(M.F,{className:(0,o.xF)("h-3 w-3 shrink-0")}),(0,n.jsx)("span",{className:(0,o.xF)("text-xs"),children:r("useTestcaseAsInput")})]})})},O=e=>{let{children:t}=e;return t&&(null==t?void 0:t.filter(Boolean).length)!==0?(0,n.jsx)("div",{className:(0,o.xF)("relative flex w-full flex-col gap-1",'before:bg-border-tertiary before:dark:bg-border-tertiary before:content-[""]',"before:absolute before:-left-[14.5px] before:top-0 before:h-full before:w-[1px]"),children:t}):null},V=e=>{let{title:t,message:l,Icon:s,iconClassName:r,titleClassName:i,rowClassName:a,onTitleClick:d}=e;return(0,n.jsxs)("div",{className:(0,o.xF)("flex w-full items-start gap-2 py-1",a),children:[(0,n.jsx)("div",{className:(0,o.xF)("flex h-5 shrink-0 items-center"),children:(0,n.jsx)(s,{className:(0,o.xF)("mt-[2px] h-3 w-3",r)})}),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-1 overflow-auto",children:[(0,n.jsx)("div",{className:"min-h-5",children:(0,n.jsx)("span",{className:(0,o.xF)("text-sm",i),onClick:d,children:t})}),l]})]})},H=e=>{let{passed:t,title:l,errorMessage:s,stdout:r,failedTestInfo:i,isTLE:c,isSkipped:p}=e,{t:v}=(0,a.Bd)("console"),f=t?d.B8.labelTextPrimary:d.B8.labelRed60,g=t?d.B8.labelGreen60:d.B8.labelRed60,j=t?m.i:x.G,y=!!(null==i?void 0:i.showDiff),w=y||(null==i?void 0:i.message);return(0,n.jsx)(V,{title:l,message:(0,n.jsxs)(O,{children:[(null==i?void 0:i.testCode)&&!p&&(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)(q,{testCode:i.testCode})}),(0,h.$)(w&&(0,n.jsx)(_,{codePreview:null==i?void 0:i.codePreview,actual:null==i?void 0:i.actual,expected:null==i?void 0:i.expected,shortMessage:null==i?void 0:i.message,hasDiff:y}),s&&(0,n.jsx)(b.N,{type:"error",children:s}),c&&(0,n.jsx)(b.N,{preClassName:(0,o.xF)(u.MY.label1,"text-xs"),children:v("result.timeLimitExceeded")}),p&&(0,n.jsx)("pre",{className:"text-xs font-medium opacity-70",children:"Skipped due to TLE"})),r&&(0,n.jsx)(b.N,{children:r})]}),iconClassName:(0,o.xF)(g,{"opacity-70":p}),titleClassName:(0,o.xF)(f,{"opacity-70":p}),Icon:j})},Y=e=>{let{isTruncated:t,onClick:l}=e,{t:s}=(0,a.Bd)("common",{keyPrefix:"truncatedContent"});return(0,n.jsx)(V,{rowClassName:(0,o.xF)(u.MY.label3),titleClassName:(0,o.xF)(u.FY.label2,"cursor-pointer transition-colors"),title:s(t?"showMore":"showLess"),Icon:t?p.r:f,onTitleClick:l})},W=e=>{let{results:t,lines:l,publishSolutionButton:a,status:u}=e,[m,{toggle:x}]=(0,c.o)(!0),p=(0,i.useMemo)(()=>0===t.length?[]:[...t].sort((e,t)=>e.passed&&!t.passed?1:!e.passed&&t.passed?-1:0),[t]),v="number"==typeof l&&p.length>l,f=v&&m?p.slice(0,l):p,h=0===t.filter(e=>!e.passed).length&&t.length>0,b=h?d.B8.labelGreen60:d.B8.labelRed60,j=(0,i.useMemo)(()=>t.filter(e=>e.passed).length,[t]),y=(0,i.useMemo)(()=>u===g.rI.TLE?"Time Limit Exceeded":h?"Accepted":"Wrong Answer",[u,h]),w=!1;return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:(0,o.xF)(b,"py-1 text-xl font-semibold leading-[20px]"),children:y}),(0,n.jsx)("div",{className:(0,o.xF)(d.B8.bgBorderTertiary,"h-3 w-[1px]")}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsxs)("div",{className:(0,o.xF)(d.B8.labelTextSecondary,"text-xs font-medium"),children:[j,"/",t.length]}),(0,n.jsx)("div",{className:(0,o.xF)(d.B8.labelTextSecondary,"text-xs"),children:"testcases passed"})]})]}),h&&a]}),f.map((e,t)=>{let l=!e.passed&&void 0===e.errorMessage&&!w,i=!e.passed&&void 0===e.errorMessage&&w;return l&&(w=!0),(0,n.jsx)(H,(0,r._)((0,s._)({},e),{isTLE:l,isSkipped:i}),t)}),v&&(0,n.jsx)(Y,{onClick:x,isTruncated:m})]})}},35604:(e,t,l)=>{"use strict";l.d(t,{xH:()=>g,IX:()=>f,ZV:()=>v,Dj:()=>h,TV:()=>b});var s=l(84038),r=l(96540),n=l(77961),i=l(9640),a=l(35593),o=l(39330);let d=a.uZf,u=(e,t)=>{let l=(null==t?void 0:t.enabled)===void 0||t.enabled;return d(i.nS,{submissionId:String(e)},{enabled:!!e&&l,select:e=>{var t;return null!==(t=e.frontendQuestionSubmissionResults.map(e=>{var t,l,s,r,i,a,d,u,c;let m=null!==(t=(0,n.N)(null==e?void 0:e.title))&&void 0!==t?t:"unknown test",x=(0,n.N)(null==e?void 0:e.errorMessage),p=(0,n.N)(null==e?void 0:e.testFn),v=null!==(l=null==e?void 0:e.failingLine)&&void 0!==l?l:void 0,f=null!==(s=null==e?void 0:e.shortError)&&void 0!==s?s:void 0,g=!(null==e?void 0:e.passed)&&!!p,h=null!==(r=null==e?void 0:e.codePreview)&&void 0!==r?r:void 0,b=null!==(i=null==e?void 0:e.showDiff)&&void 0!==i&&i,j=null!==(a=null==e?void 0:e.actual)&&void 0!==a?a:void 0,y=null!==(d=null==e?void 0:e.expected)&&void 0!==d?d:void 0;return{passed:null!==(u=null==e?void 0:e.passed)&&void 0!==u&&u,title:m,stdout:null!==(c=null==e?void 0:e.stdout)&&void 0!==c?c:void 0,errorMessage:x,failedTestInfo:g?{lineNumber:v,message:f,testCode:(0,o.Fd)(m,p),codePreview:h,showDiff:b,actual:j,expected:y}:void 0}}))&&void 0!==t?t:[]}})};var c=l(57900),m=l(30686),x=l(69104),p=l(49196);let v=e=>{let{t}=(0,s.Bd)("console"),l=(0,p.y)(e=>e.runCodeResult),n=(0,p.y)(e=>e.submitResult),i=(0,p.y)(e=>e.status);return{errorMessage:(0,r.useMemo)(()=>i===x.i.RUNCODE?function(e){switch(null==e?void 0:e.status){case c.rI.RE:return e.fullRuntimeError;case c.rI.CE:return e.fullCompileError||e.compileError;case c.rI.INVALID_TESTCASE:return e.errorMessage;default:var t,l;return null!==(l=null!==(t=null==e?void 0:e.fullRuntimeError)&&void 0!==t?t:null==e?void 0:e.fullCompileError)&&void 0!==l?l:void 0}}(l):i===x.i.SUBMIT?f(n):void 0,[i,l,n]),errorTitle:(0,r.useMemo)(()=>e?g(e,t):void 0,[e,t])}};function f(e){switch(null==e?void 0:e.status){case c.rI.RE:return e.fullRuntimeError;case c.rI.CE:return e.fullCompileError||e.compileError;default:var t,l;return null!==(l=null!==(t=null==e?void 0:e.fullRuntimeError)&&void 0!==t?t:null==e?void 0:e.fullCompileError)&&void 0!==l?l:void 0}}function g(e,t){switch(e){case c.rI.RE:return t("result.runtimeError");case c.rI.CE:return t("result.compileError");case c.rI.INVALID_TESTCASE:return t("result.invalidTestcase");case c.rI.IE:return t("result.internalError");case c.rI.TO:return t("result.timeout");case c.rI.TLE:return t("result.timeLimitExceeded");case c.rI.OLE:return t("result.outputLimitExceeded");case c.rI.MLE:return t("result.memoryLimitExceeded");default:return t("result.unknownError")}}let h=()=>{let e=(0,p.y)(e=>e.status),t=(0,p.y)(e=>e.runCodeResult);if(e===x.i.RUNCODE&&(null==t?void 0:t.testcaseResultType))return t.testcaseResultType.map(e=>({title:e.input,passed:e.accepted,errorMessage:e.output,stdout:e.stdout,failedTestInfo:e.failedTestInfo}))},b=function(){let{submissionId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,m.U)(e=>e.status),l=(0,p.y)(e=>e.submitResult),s=null==l?void 0:l.status,r=t===x.i.SUBMIT&&(s===c.rI.AC||s===c.rI.WA||s===c.rI.TLE),{data:n,isFetching:i}=u(null!=e?e:Number(null==l?void 0:l.submissionId),{enabled:r});return n?{isFetching:i,submitResult:n}:{isFetching:i,submitResult:void 0}}},77108:(e,t,l)=>{"use strict";l.d(t,{o:()=>et});var s=l(74848),r=l(96540),n=l(84038),i=l(82479),a=l(18231),o=l(87653),d=l(43098),u=l(36768),c=l(64011),m=l(63628),x=l(62598),p=l(25810),v=l(95125),f=l(80570),g=l(25431),h=l(1651),b=l(2486),j=l(72556),y=l(15440),w=l(72187),N=l(22331),T=l(51587),S=l(11499),C=l(35604),B=l(49196),I=l(50201),E=l(89712),k=l(57900);let F=e=>{let{submissionId:t,publishSolutionButton:l}=e,{t:i}=(0,n.Bd)("console"),a=(0,B.y)(e=>{var t;return null===(t=e.submitResult)||void 0===t?void 0:t.status}),o=(0,E.xC)(a),d=(0,B.y)(e=>e.submitResult),u=(0,C.IX)(d),c=a?(0,C.xH)(a,i):void 0,m=(0,r.useMemo)(()=>!!a&&[k.rI.AC,k.rI.WA,k.rI.TLE].includes(a),[a]),{isFetching:x,submitResult:p}=(0,C.TV)({submissionId:t}),f=!x&&m&&!!p;return(0,r.useEffect)(()=>{let e=(null!=p?p:[]).map(e=>e.failedTestInfo).filter(e=>void 0!==e);I.r.getState().setFailedFrontendTests(e),(0,E.Vf)()},[p,x]),(0,s.jsx)("div",{className:"relative h-full w-full overflow-auto",children:(0,v.$)(o&&(0,s.jsx)(T._,{errorTitle:c,errorMessage:u}),f&&(0,s.jsx)(S.D,{results:p,publishSolutionButton:l,status:a}))})},_=e=>{var t;let{lines:l,submission:r,publishSolutionButton:n}=e,i=r.statusDisplay,a=null!==(t=r.runtimeError)&&void 0!==t?t:r.compileError,o=i&&a,d=r.frontendTestResults,u=d&&d.length>0;return(0,s.jsx)("div",{className:"relative w-full",children:(0,v.$)(o&&(0,s.jsx)(T._,{errorTitle:i,errorMessage:a}),u&&(0,s.jsx)(S.D,{results:d,lines:l,publishSolutionButton:n,status:r.statusCode}))})},M=e=>{let{submissionId:t,publishSolutionButton:l}=e,{isFetching:r,isPreviousData:n,data:i}=(0,d.c)(t,{keepPreviousData:!0});return(r||i)&&(!r||!n)&&i?(0,s.jsx)(_,{submission:i,publishSolutionButton:l}):null};var L=l(22397);let D=e=>{let{submissionId:t,isFromSubmitBtn:l}=e,{t:i}=(0,n.Bd)("submissions"),a=(0,c.j_)(e=>e.questionSlug),o=(0,r.useMemo)(()=>w.f0.solutionEditor(a,void 0,void 0,t),[a,t]),d=(0,j._)(()=>{y.L.qdPostSolutionClick({qd_version:(0,N.Su)(),qd_question_slug:a,qd_post_entry:"submission",qd_status:"normal"})}),u=(0,s.jsx)(b.p,{submissionId:t.toString(),href:o,isExternal:!0,questionSlug:a,onClick:d,className:"text-caption rounded px-3 py-1",children:i("buttons.solution")});return(0,s.jsxs)(s.Fragment,{children:[(0,v.$)(l&&(0,s.jsx)(F,{submissionId:t,publishSolutionButton:u}),(0,s.jsx)(M,{submissionId:t,publishSolutionButton:u})),(0,s.jsx)(L.l,{submissionId:t,canOpenInPanel:!0,canOpenInNewTab:!0,showCopyEmbedCode:!0,showNavbar:!0,dynamicallyResizeIframe:!0,className:"rounded-lg"})]})};var R=l(83417),A=l(86715),P=l(79656),q=l(3519),O=l(76033),V=l(26934),H=l(52993),Y=l(81962),W=l(90883),z=l(39112);let G=e=>{let{questionSlug:t,submissionId:l}=e,r="https://".concat(N.H_).concat(w.f0.submissionOverviewWithSearch(t,String(l),!1)),{t:a}=(0,n.Bd)("common");return(0,s.jsx)(Y.i,{copyValue:r,className:"h-6 w-6",showOnGroupHover:!1,customCopyIcon:(0,s.jsx)(q.m_,{label:a("copyLink"),placement:"top",children:(0,s.jsx)("div",{children:(0,s.jsx)(W.$,{variant:"text",shape:"square",size:"sm",icon:(0,s.jsx)(O.d,{variant:"14px",padding:"square",icon:P.CQO}),className:(0,i.xF)("p-1",H.B8.labelTextSecondary)})})}),customCopiedIcon:(0,s.jsx)(W.$,{variant:"text",shape:"square",size:"sm",icon:(0,s.jsx)(O.d,{variant:"14px",padding:"square",icon:P.e68}),className:(0,i.xF)("p-1",H.B8.labelGreen60,"enabled:hover:bg-transparent")})})},U=()=>null,K=e=>(0,f.M)({[c.tT.Default]:G,[c.tT.Contest]:U})(e),Q=e=>{let{submissionId:t}=e,{t:l}=(0,n.Bd)("submissions"),r=(0,c.j_)(e=>e.questionSlug),a=(0,c.j_)(e=>e.isDynamicLayout),o=(0,m.U)(),d=(0,A.useRouter)(),u=(0,c.GV)(),x=(0,z.oX)(u),p=(0,j._)(()=>{a?null==o||o.closeSubmissionDetailTab({id:String(t)}):d.push(x.submissionOverview(r),void 0,{shallow:!0})});return(0,s.jsxs)("div",{className:(0,i.xF)("lc-md:h-8 flex h-10 w-full flex-none items-center justify-between gap-2 border-b px-2 py-1",H.B8.borderBorderQuaternary,{"px-4":(0,V.Fr)()}),children:[(0,s.jsxs)("div",{onClick:p,className:(0,i.xF)("flex cursor-pointer items-center gap-2 text-sm",H.B8.labelTextSecondary,H.wu.labelTextPrimary),children:[(0,s.jsx)(O.d,{variant:"14px",padding:"square",icon:P.CeG}),l("allSubmissions")]}),(0,s.jsx)(K,{questionSlug:r,submissionId:t})]})};var $=l(58073);let J=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"flex h-full w-full flex-col overflow-hidden rounded",children:(0,s.jsx)("div",{className:"overflow-auto",children:(0,s.jsxs)("div",{className:"flex h-full w-full flex-col rounded-b",children:[" ",t]})})})},X=e=>e,Z=()=>!1,ee=e=>(0,f.M)({[c.tT.Default]:X,[c.tT.Contest]:Z})(e),et=e=>{let{submissionId:t,isFromSubmitBtn:l,hideAddToTestcaseAndDebug:f,hideNavHeader:b,hideSolutionBtn:j,hiddenRuntimeTip:y,initialLoading:w}=e,{t:N}=(0,n.Bd)("submissions"),{isFetching:T,isPreviousData:S,data:C}=(0,d.c)(null!=t?t:0,{keepPreviousData:!0,enabled:!!t}),B=(0,c.j_)(e=>e.questionSlug),I=(0,a.W)(null==C?void 0:C.username)||(null==C?void 0:C.isMine),E=(0,c.j_)(e=>e.problemType),k=(0,c.j_)(e=>e.addOpeningSubmissionId),F=(0,c.j_)(e=>e.removeOpeningSubmissionId);(0,r.useEffect)(()=>(k(null!=t?t:0),()=>F(null!=t?t:0)),[k,F,t]);let _=(null==C?void 0:C.statusCode)===10,M=ee(I),L=(0,m.U)();(0,r.useEffect)(()=>{!T&&C&&(null==L||L.setTabCustomTitle(x.mA.SubmissionDetail,null==C?void 0:C.statusDisplay,{id:String(t)}),null==L||L.reselectTabIfActive(x.mA.SubmissionDetail,{id:String(t)}))},[C,T,t]);let A=w||!t||T&&S||void 0===C,P=!T&&null===C&&t,q=!(T&&S)&&C&&t;return(0,r.useEffect)(()=>{l&&(null==L||L.setTabIsLoading(x.mA.SubmissionDetail,A,{id:String(t)}))},[A]),(0,r.useEffect)(()=>{l&&q&&(null==L||L.highlightTab(x.mA.SubmissionDetail,{id:String(t)}))},[q]),(0,s.jsxs)(J,{children:[!b&&(0,s.jsx)(Q,{submissionId:t}),(0,s.jsx)("div",{className:"w-full flex-1 overflow-y-auto",children:(0,v.$)(A&&(0,s.jsx)(R.P,{}),P&&(0,s.jsx)("div",{className:"mb-[70px] mt-[39px] flex-1",children:(0,s.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center gap-5",children:[(0,s.jsx)(o.PlaceholderForNull,{}),(0,s.jsx)("div",{className:(0,i.xF)(u.MY.label3),children:N("noSubmission")})]})}),q&&(0,s.jsxs)("div",{className:"mx-auto flex w-full max-w-[700px] flex-col gap-4 px-4 py-3",children:[(0,v.$)(E===p.yo.Frontend&&(0,s.jsx)(D,{submissionId:t,isFromSubmitBtn:l}),_&&(0,s.jsx)(g.M,{questionSlug:B,submissionId:String(t),data:C,isFromSubmitBtn:l,isMySelf:I,hiddenRuntimeTip:y,hideSolutionBtn:j}),(0,s.jsx)(h.H,{data:C,isFromSubmitBtn:l,submissionId:String(t),isMySelf:I,hideAddToTestcaseAndDebug:f})),M&&(0,s.jsx)($.u,{submissionId:t,submissionData:C,isFromSubmitBtn:l},t)]}))})]})}},58073:(e,t,l)=>{"use strict";l.d(t,{u:()=>M});var s=l(74848),r=l(89539),n=l(36698),i=l(84038),a=l(96540),o=l(74353),d=l(82479),u=l(72556),c=l(68462),m=l(48246),x=l(52993),p=l(94545),v=l(57900),f=l(18007);let g={[v.s2.White]:{bg:x.B8.bgTextTertiary,border:x.B8.borderTextTertiary},[v.s2.Orange]:{bg:x.B8.bgYellow60,border:x.B8.borderYellow60},[v.s2.Blue]:{bg:x.B8.bgBlue60,border:x.B8.borderBlue60},[v.s2.Green]:{bg:x.B8.bgGreen60,border:x.B8.borderGreen60},[v.s2.Red]:{bg:x.B8.bgMagenta60,border:x.B8.borderMagenta60},[v.s2.Purple]:{bg:x.B8.bgPurple60,border:x.B8.borderPurple60}},h=e=>{let{type:t,selected:l,onClick:r}=e;return(0,s.jsx)("div",{className:(0,d.xF)("h-5 w-5 cursor-pointer rounded-full p-[3px]",{[(0,d.xF)(g[t].bg)]:l,[(0,d.xF)("border",g[t].border)]:!l}),onClick:r,children:l&&(0,s.jsx)(f.i,{className:(0,d.xF)("h-3.5 w-3.5",x.B8.labelFixedWhite)})})},b=e=>{let{selectedType:t,onChange:l}=e;return(0,s.jsx)("div",{className:"flex gap-3 py-1",children:Object.keys(g).map(e=>(0,s.jsx)(h,{type:e,selected:t===e,onClick:()=>l(e)},e))})};var j=l(71176);let y=e=>{let{value:t,onChange:l,setIsNoteInputFocused:r}=e,{t:n}=(0,i.Bd)("submissions",{keyPrefix:"notes"});return(0,s.jsx)(j.T,{className:(0,d.xF)("h-[120px] w-full resize-none border-0 px-3 py-2 text-sm","placeholder:text-text-quaternary dark:placeholder:text-text-quaternary",x.B8.bgTransparent,x.B8.labelTextPrimary),value:t,cols:6,onChange:l,placeholder:n("placeholder"),onFocus:()=>r(!0),onBlur:()=>r(!1)})};var w=l(55163),N=l(24085),T=l(41982),S=l(85730);let C=e=>{let{tag:t,onDelete:l}=e,r=(0,a.useCallback)(e=>e.stopPropagation(),[]),n=(0,a.useCallback)(e=>{e.stopPropagation(),l(t)},[t,l]);return(0,s.jsxs)(T.v,{className:(0,d.xF)(x.B8.labelTextSecondary,"grow-0 cursor-default font-medium"),onClick:r,children:[t.name,(0,s.jsx)(S.x,{className:(0,d.xF)("ml-1.5 cursor-pointer",x.B8.labelTextSecondary,x.wu.labelTextPrimary),onClick:n})]})};var B=l(59496),I=l(36768),E=l(68490);let k=e=>{let{ref:t,selectedValue:l,onSelect:r,onChange:n,searchResults:i,disabled:o,placeholder:u,customMessage:c}=e,m=(0,a.useCallback)(e=>n(e.target.value),[n]),x=(0,a.useCallback)(e=>r(e),[r]);return(0,s.jsxs)(B.G3,{disabled:o,value:l,onChange:x,children:[(0,s.jsx)(B.i7,{as:"div",className:"w-min grow",ref:t,children:(0,s.jsx)(B.oK,{name:"relatedTags",id:"relatedTags",onChange:m,className:(0,d.xF)(I.MY.bgTransparent,I.MY.bgTransparentFocus,I.MY.placeholderLabel4,"h-6 w-full px-0 outline-none"),placeholder:u,as:E.p})}),(0,s.jsxs)(B.Kc,{className:(0,d.xF)("rounded-lg focus:outline-none","z-dropdown flex max-h-[190px] w-full flex-col overflow-auto p-2","absolute -top-1 left-0 -translate-y-full",I.MY.bgLayer3,I.H2.dropdown),children:[i.map(e=>(0,s.jsx)(B.jO,{value:e,className:e=>{let{active:t}=e;return(0,d.xF)("cursor-pointer rounded-md px-3 py-1 font-medium",I.MY.fill3Hover,t?[I.MY.fill3,I.MY.label1]:[I.MY.bgTransparent,I.MY.label2])},children:e.name},e.tagId)),c&&(0,s.jsx)("div",{className:"px-3 py-1",children:c})]})]})},F=e=>{let{tags:t,onChange:l}=e,{t:r}=(0,i.Bd)("submissions",{keyPrefix:"relatedTags"}),[o,u]=(0,a.useState)(""),[c,m]=(0,a.useState)(null),p=(0,a.useCallback)(()=>null==c?void 0:c.click(),[c]),[v,f]=(0,a.useState)(t),g=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(g.current){g.current=!1;return}(0,n.A)(t.map(e=>e.tagId).sort((e,t)=>e-t),v.map(e=>e.tagId).sort((e,t)=>e-t))||f(t)},[t]);let{isFetching:h,data:b}=(0,N.E)(),j=(0,a.useMemo)(()=>(null==b?void 0:b.filter(e=>e.tagId).map(e=>{let{name:t,tagId:l}=e;return{name:t,tagId:l}}))||[],[b]),y=(0,a.useMemo)(()=>{if(""===o)return j.filter(e=>!v.some(t=>t.name===e.name));let e=RegExp((0,w.A)(o).trim().replace(/\s+/g,".* "),"i");return j.filter(t=>t.name.match(e)).filter(e=>!v.some(t=>t.name===e.name))},[o,v,j]),T=(0,a.useCallback)(e=>{e&&e.tagId&&(g.current=!0,f(t=>{let s=[...t,e];return l(s),s}),u(""))},[l]),S=(0,a.useCallback)(e=>{g.current=!0,f(t=>{let s=t.filter(t=>t.tagId!==e.tagId);return l(s),s})},[l]),B=h||0!==y.length?"":r("noResults");return(0,s.jsxs)("div",{className:(0,d.xF)("relative flex items-center justify-between gap-1","min-h-[40px] w-full px-3 py-1.5","border-t",x.B8.bgTransparent,x.B8.labelTextSecondary,x.B8.borderBorderQuaternary,v.length<5?"cursor-text":"cursor-default"),onClick:p,children:[(0,s.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-1",children:[v.map(e=>(0,s.jsx)(C,{tag:e,onDelete:S},e.tagId)),(0,s.jsx)(k,{selectedValue:o,onSelect:T,onChange:u,searchResults:y,disabled:v.length>=5,ref:m,placeholder:0===v.length?r("placeholder"):"",customMessage:B})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:(0,d.xF)("text-caption",x.B8.labelTextSecondary),children:[v.length,"/",5]})})]})};var _=l(30686);let M=e=>{let{submissionId:t,submissionData:l,isFromSubmitBtn:v}=e,{t:f}=(0,i.Bd)("common"),{t:g}=(0,i.Bd)("submissions"),{notes:h,topicTags:j,flagType:w}=l,[N,T]=(0,a.useState)(h),[S,C]=(0,a.useState)(j),[B,I]=(0,a.useState)(w),[E,k]=(0,a.useState)(!1),M=(0,m.$)(),[{isSaved:L,isSaving:D},{onSaved:R,onSaving:A,reset:P}]=(0,c.P)({successDuration:1e3}),q=(0,_.U)(e=>e.submitDuration),O=(0,_.U)(e=>e.submissionId);(0,a.useEffect)(()=>{I(w)},[w]),(0,a.useEffect)(()=>{E||T(h)},[h]);let V=(0,u._)(e=>{let{tagIds:l,note:s,flagType:r}=e,n={submissionId:t,tagIds:null!=l?l:S.map(e=>e.tagId),note:void 0!==s?s:N,flagType:null!=r?r:B};A(),M(n).then(R)}),H=(0,a.useMemo)(()=>(0,r.A)(V,500),[V]),Y=(0,u._)(e=>{P(),T(e),H({note:e})}),W=(0,u._)(e=>{C(e),H({tagIds:e.map(e=>e.tagId)})}),z=(0,u._)(e=>{I(e),H({flagType:e})});(0,a.useEffect)(()=>{if(v&&t===Number(O)&&q){let e=(0,o.duration)(q),t={hours:g("success.hour",{count:e.hours()}),minutes:g("success.minute_short"),seconds:g("success.second_short")},l=(0,p.H)(e,{prefix:t});Y("[ ".concat(g("success.timeTaken",{time:l})," ]"))}},[v,Y,t,O,q,g]);let G=(0,u._)(()=>!(N===h&&B===w&&(0,n.A)(j.map(e=>e.tagId).sort(),S.map(e=>e.tagId).sort())));return(0,a.useEffect)(()=>()=>{G()&&V({})},[t]),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:(0,d.xF)("flex flex-col rounded-lg",x.B8.bgFillTertiary),children:[(0,s.jsx)(y,{value:N,onChange:Y,setIsNoteInputFocused:k}),(0,s.jsx)(F,{tags:S,onChange:W})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(b,{selectedType:B,onChange:z}),(L||D)&&(0,s.jsx)("div",{className:(0,d.xF)("text-caption",x.B8.labelTextTertiary),children:f(D?"saving":"saved")})]})]})}},89712:(e,t,l)=>{"use strict";l.d(t,{NC:()=>c,VB:()=>m,Vf:()=>p,mJ:()=>x,xC:()=>u});var s=l(96540),r=l(57900),n=l(32608),i=l(93246),a=l.n(i),o=l(50201),d=l(79548);let u=e=>(0,s.useMemo)(()=>!!e&&[r.rI.MLE,r.rI.OLE,r.rI.RE,r.rI.IE,r.rI.CE,r.rI.TO,r.rI.INVALID_TESTCASE].includes(e),[e]),c=e=>{var t;let l=null===(t=o.r.getState().testcaseList)||void 0===t?void 0:t[0];if("string"!=typeof l||!e)return{startLine:-1,endLine:-1,linesCount:0};let s=l.split("\n").map(e=>e.trim()),r=e.split("\n").map(e=>e.trim());for(let e=0;e<=s.length-r.length;e++)if(s[e]===r[0]&&function(e,t,l){for(let s=0;s<t.length;s++)if(e[l+s]!==t[s])return!1;return!0}(s,r,e))return{startLine:e+1,endLine:e+r.length,linesCount:r.length};return{startLine:-1,endLine:-1,linesCount:r.length}},m=()=>{let e=(0,n.dJ)(),t=(0,d.c)(e=>e.editor),l=(0,o.r)(e=>e.failedFrontendTestLines);(0,s.useEffect)(()=>{if(!t)return;let e=o.r.getState().setFailedFrontendTestLines,{dispose:l}=t.onDidChangeModelContent(()=>{e([])});return()=>l()},[t]),(0,s.useEffect)(()=>{if(!e||!t||0===l.length)return;let s=t.getModel();if(!s)return;let r=[],n=[];for(let{lineNumber:t,message:i}of l){if(void 0===t)continue;let l=s.getLineLength(t);n.push({startLineNumber:t,endLineNumber:t,startColumn:0,endColumn:l+1,message:null!=i?i:"Something went wrong here",severity:8}),r.push({range:new e.Range(t,1,t,1),options:{isWholeLine:!0,className:a().monacoErrorLine,stickiness:e.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}})}let i=t.deltaDecorations([],r);return e.editor.setModelMarkers(s,s.id,n),()=>{t.deltaDecorations(i,[]),e.editor.setModelMarkers(s,s.id,[])}},[t,e,l])},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,l=d.c.getState().editor,s=window.lcMonaco;if(!l||!s)return;let[r,n]=Array.isArray(e)?e:[e,e],i=l.deltaDecorations([],[{range:new s.Range(r,1,n,1),options:{isWholeLine:!0,className:a().monacoInfoLine}}]);setTimeout(()=>{l.deltaDecorations(i,[])},t)},p=()=>{var e;let t=o.r.getState().failedFrontendTests;if(0===t.length)return;let l=d.c.getState().editor,s=null==l?void 0:null===(e=l.getModel())||void 0===e?void 0:e.getValue();if(!s)return;let r=t.map(e=>{if(!e||!e.lineNumber||!e.message)return;let t=function(e,t,l){if(void 0===l)return -1;let s=e.split("\n").map(e=>e.trim()),r=t.trim().split("\n").map(e=>e.trim());for(let e=0;e<=s.length;e++)if(s[e]===r[0]&&function(e,t,l){for(let s=0;s<t.length;s++)if(e[l+s]!==t[s])return!1;return!0}(s,r,e))return e+l;return -1}(s,e.testCode,e.lineNumber);if(-1!==t)return{lineNumber:t,message:e.message}}).filter(Boolean);o.r.getState().setFailedFrontendTestLines(r)}},53328:(e,t,l)=>{"use strict";l.d(t,{r:()=>o});var s=l(77528),r=l(74848),n=l(96540),i=l(64011);let a=(0,n.createContext)(i.Fu),o=e=>{let{children:t,value:l}=e,o=(0,i.j_)(e=>e.updateState),d=(0,i.j_)();return(0,n.useEffect)(()=>{o(l)},[o,l]),(0,r.jsx)(a.Provider,{value:(0,s._)({},l,d),children:t})}},98047:(e,t,l)=>{"use strict";l.d(t,{S:()=>m});var s=l(96540),r=l(64011),n=l(25810),i=l(25800),a=l(50201),o=l(79548),d=l(42484),u=l(62805),c=l(39722);let m=()=>{let[e,t]=(0,s.useState)(!1),l=(0,r.j_)(e=>e.questionSlug),m=(0,s.useRef)(null),x=(0,r.j_)(e=>e.setProblemType),{data:p}=(0,i.v)(l),v=(0,a.r)(e=>e.setTestcaseList),f=(0,a.r)(e=>e.setDbTestcaseSchema),g=(0,o.c)(e=>e.setEnableRunCode),h=(0,o.c)(e=>e.setEnableSubmit),b=(0,o.c)(e=>e.setEnableTestMode),j=(0,o.c)(e=>e.setEnableDebugger),y=(0,a.r)(e=>e.setTestcaseCacheKey),w=(null==p?void 0:p.exampleTestcaseList)||[];return(0,s.useEffect)(()=>{y((0,c.eV)(l))},[l,y]),(0,s.useEffect)(()=>{let e;if(!p||l===m.current)return;let s=null==p?void 0:p.metaData;if(s){let t=(0,d.vK)(s);e=t.type;let i=(0,u.Ax)(e,w);if(e&&x(e),v((0,c.id)(l)||i,!1),g(p.enableRunCode),j((0,d.uh)()&&p.enableRunCode),h(p.enableSubmit),b(p.enableTestMode),t.type===n.yo.Database){var r;f(null!==(r=null==t?void 0:t.database_schema)&&void 0!==r?r:{})}}t(!0),m.current=l},[p]),{isLoading:l&&!e}}},41982:(e,t,l)=>{"use strict";l.d(t,{v:()=>c});var s=l(77528),r=l(55456),n=l(4418),i=l(74848),a=l(96540),o=l(82479),d=l(36768),u=l(66711);let c=function(e){var{ref:t}=e,l=(0,n._)(e,["ref"]);let{isActive:c,borderRadius:m,onClose:x,onClick:p,className:v,children:f,clickable:g}=l,h=(0,n._)(l,["isActive","borderRadius","onClose","onClick","className","children","clickable"]),b=g||!!p,j=!!x,y=(0,a.useCallback)(e=>{e.stopPropagation(),x&&x()},[x]);return(0,i.jsxs)("span",(0,r._)((0,s._)({ref:t},h),{className:(0,o.xF)("inline-flex items-center","px-2","whitespace-nowrap text-xs leading-6",void 0!==m?m:"rounded-full",{[(0,o.xF)(d.MY.label3,d.MY.fill3)]:!c,[(0,o.xF)("bg-blue-s dark:bg-dark-blue-s text-white")]:c,[(0,o.xF)("cursor-pointer transition-all",d.MY.fill2Hover)]:b&&!c,[(0,o.xF)("cursor-pointer transition-all","hover:bg-blue-3 dark:hover:bg-dark-blue-3")]:b&&c},v),onClick:p,children:[f,j&&(0,i.jsx)("span",{className:"ml-1 cursor-pointer transition-all",onClick:y,children:(0,i.jsx)(u.J,{className:(0,o.xF)("h-3.5 w-3.5",{[(0,o.xF)(d.MY.label4,"hover:text-label-3 dark:hover:text-dark-label-3")]:!c,[(0,o.xF)("text-dark-label-4 dark:text-label-2","hover:text-dark-label-3 dark:hover:text-label-1")]:c})})})]}))}},18231:(e,t,l)=>{"use strict";l.d(t,{W:()=>r});var s=l(70354);let r=e=>{var t;let{data:l}=(0,s.Xe)();return e===(null==l?void 0:null===(t=l.userStatus)||void 0===t?void 0:t.username)}},68462:(e,t,l)=>{"use strict";l.d(t,{P:()=>r});var s=l(96540);let r=e=>{let[t,l]=(0,s.useState)("idle"),r=e&&e.successDuration;return(0,s.useEffect)(()=>{if(r&&"saved"===t){let e=setTimeout(()=>{l("idle")},r);return()=>{clearTimeout(e)}}},[t,r]),[{isSaving:"saving"===t,isSaved:"saved"===t,status:t},(0,s.useMemo)(()=>({onSaving:()=>l("saving"),onSaved:()=>l("saved"),reset:()=>l("idle")}),[])]}},93246:e=>{e.exports={monacoErrorLineNumber:"highlights_monacoErrorLineNumber__8SxcV",monacoErrorLine:"highlights_monacoErrorLine__K2VLH",monacoInfoLine:"highlights_monacoInfoLine__mZwXx",monacoAddedLine:"highlights_monacoAddedLine__NywbE"}}}]);