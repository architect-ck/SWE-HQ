(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9806],{57900:(e,t,s)=>{"use strict";s.d(t,{$2:()=>n,rI:()=>r,s2:()=>a});var r=function(e){return e[e.AC=10]="AC",e[e.WA=11]="WA",e[e.MLE=12]="MLE",e[e.OLE=13]="OLE",e[e.TLE=14]="TLE",e[e.RE=15]="RE",e[e.IE=16]="IE",e[e.CE=20]="CE",e[e.TO=30]="TO",e[e.INVALID_TESTCASE=40]="INVALID_TESTCASE",e[e.UNKNOWN=-1]="UNKNOWN",e}({}),n=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SLOWDOWN_ERROR="SLOWDOWN_ERROR",e.UNAUTH_ACCESS_ERROR="NO_ACCESS_ERROR",e}({}),a=function(e){return e.Blue="BLUE",e.Green="GREEN",e.Orange="ORANGE",e.Purple="PURPLE",e.Red="RED",e.White="WHITE",e}({})},25800:(e,t,s)=>{"use strict";s.d(t,{v:()=>c});var r=s(64011),n=s(27773),a=s(19594),o=s(80570);let i=e=>(0,n.P)(e),l=e=>{let t=r.j_.getState().contestSlug;return(0,a.s)(e,t)},u={[r.tT.Contest]:l,[r.tT.Default]:i},c=e=>(0,o.M)(u)(e)},17912:(e,t,s)=>{"use strict";s.d(t,{S:()=>c,f:()=>d});var r=s(77528),n=s(55456),a=s(7282),o=s(87134),i=s(29708),l=s(47561);let u={switchAgent:!0,currentModel:void 0,modelList:[],modelGlobalRules:void 0,chatContent:"",aiGenerating:i.SE.Default,quoteContents:[],showAgentSubscribe:!1,showTokenLimit:!1,currentSessionId:void 0,sessionMessagesTree:[],sessionMessagesList:[],dynamicSessionMessagesList:[],aiContentError:"",chatTabWorkFlows:[],chatUserCustomWorkFlows:[],chatSelectWorkFlows:[],currentWorkFlowTabEvent:i.N3.Default,currentWorkFlowTabValues:{},applyCode:void 0,initFocusInput:!1,eventSource:void 0,isEditingUserMessage:!1},c=(0,a.vt)((0,o.kg)(u,e=>({setSwitchAgent:t=>((0,l.d_)({useAgent:t}),e(e=>(0,n._)((0,r._)({},e),{switchAgent:t}))),setCurrentModel:t=>((0,l.d_)({modelId:t.modelCacheId}),e(e=>(0,n._)((0,r._)({},e),{currentModel:t,showTokenLimit:!1}))),setModelGlobalRules:t=>e(e=>(0,n._)((0,r._)({},e),{modelGlobalRules:t,showTokenLimit:!1})),setInitModelList:(t,s)=>e(e=>(0,n._)((0,r._)({},e),{currentModel:s,modelList:t,showTokenLimit:!1})),setModelList:t=>e(e=>(0,n._)((0,r._)({},e),{modelList:t,showTokenLimit:!1})),setCurrentSessionId:t=>((0,l.d_)({sessionId:t}),e(e=>(0,n._)((0,r._)({},e),{currentSessionId:t,aiGenerating:i.SE.Default}))),setChatContent:t=>e(e=>(0,n._)((0,r._)({},e),{chatContent:t.trim()})),setAiGenerating:t=>e(e=>(0,n._)((0,r._)({},e),{aiGenerating:t})),setQuoteContents:t=>e(e=>e.switchAgent?(0,n._)((0,r._)({},e),{quoteContents:t}):e),setShowAgentSubscribe:t=>e(e=>(0,n._)((0,r._)({},e),{showAgentSubscribe:t})),setShowTokenLimit:t=>e(e=>(0,n._)((0,r._)({},e),{showTokenLimit:t})),setSessionMessageTree:t=>e(e=>(0,n._)((0,r._)({},e),{sessionMessagesTree:t})),setSessionMessageList:t=>e(e=>(0,n._)((0,r._)({},e),{sessionMessagesList:t})),setDynamicSessionMessageList:t=>e(e=>(0,n._)((0,r._)({},e),{dynamicSessionMessagesList:t})),setContentError:t=>e(e=>(0,n._)((0,r._)({},e),{aiContentError:t})),setChatTabWorkFlows:t=>e(e=>(0,n._)((0,r._)({},e),{chatTabWorkFlows:t})),setChatSelectWorkFlows:t=>e(e=>(0,n._)((0,r._)({},e),{chatSelectWorkFlows:t})),setChatUserCustomWorkFlows:t=>e(e=>(0,n._)((0,r._)({},e),{chatUserCustomWorkFlows:t})),setCurrentWorkFlowTabEvent:(t,s)=>e(e=>(0,n._)((0,r._)({},e),{currentWorkFlowTabEvent:t,currentWorkFlowTabValues:s})),setApplyCode:t=>e(e=>(0,n._)((0,r._)({},e),{applyCode:t})),setInitFocusInput:t=>e(e=>(0,n._)((0,r._)({},e),{initFocusInput:t})),setEventSource:t=>e(e=>(0,n._)((0,r._)({},e),{eventSource:t})),setIsEditingUserMessage:t=>e(e=>(0,n._)((0,r._)({},e),{isEditingUserMessage:t}))}))),d=()=>c.getState()},29708:(e,t,s)=>{"use strict";s.d(t,{N3:()=>l,SE:()=>o,e4:()=>n,ij:()=>u,lK:()=>i,rI:()=>r,uK:()=>c,wE:()=>a});var r=function(e){return e.Complete="COMPLETE",e.Deleted="DELETED",e.Error="ERROR",e.Generating="GENERATING",e.Incomplete="INCOMPLETE",e.Pending="PENDING",e}({}),n=function(e){return e.Assistant="ASSISTANT",e.Developer="DEVELOPER",e.System="SYSTEM",e.Tool="TOOL",e.User="USER",e}({}),a=function(e){return e.Code="code",e.Solution="solution",e.Description="description",e.SubmissionDetail="submissionDetail",e}({}),o=function(e){return e.Pending="pending",e.Generating="generating",e.Default="default",e}({}),i=function(e){return e[e.Like=1]="Like",e[e.Dislike=-1]="Dislike",e[e.None=0]="None",e}({}),l=function(e){return e.Default="default",e.ProblemDescription="problem_description",e.EditorNotInputed="editor_not_inputed",e.EditorInputed="editor_inputed",e.SubmitResult="submit_result",e.Testcases="testcases",e.Solutions="solutions",e}({}),u=function(e){return e.SelectedText="selected_text",e.SelectedSubmissionCode="selected_submission_code",e.SelectedSubmissionError="selected_submission_error",e.SelectedEditorCode="selected_editor_code",e}({}),c=function(e){return e.ProblemSlug="problem_slug",e.UserCode="user_code",e.Testcases="testcases",e.Lang="lang",e.UserCodeForCompletion="user_code_for_completion",e.SelectedText="selected_text",e.StatusDisplay="status_display",e.FailedTestcase="failed_testcase",e.CodeOutput="code_output",e.ExpectedOutput="expected_output",e.ErrorMessage="error_message",e.NumberOfTests="number_of_tests",e.ActiveSubmissionIds="active_submission_ids",e.OpenedSubmissionIds="opened_submission_ids",e.ActiveSolutionSlugs="active_solution_slugs",e.OpenedSolutionSlugs="opened_solution_slugs",e.ResultTestcases="result_testcases",e.ResultStatusDisplay="result_status_display",e.CodeAnswer="code_answer",e.ExpectedCodeAnswer="expected_code_answer",e.StdOutputList="std_output_list",e.ResultErrorMessage="result_error_message",e.ResultCompareResult="result_compare_result",e}({})},47561:(e,t,s)=>{"use strict";s.d(t,{Bj:()=>u,Pt:()=>i,RG:()=>m,d_:()=>h,km:()=>l});var r=s(77528),n=s(21396);let a="API_SECRET_KEY_1111abcdefg11111",o=(e,t)=>"API_KEY_".concat(t,"_").concat(e),i=(e,t)=>{if(!e)return;let s=o(e,t),r=localStorage.getItem(s)||void 0;if(r)try{let e=JSON.parse(r),t=n.AES.decrypt(e.apiKey,a);return{useKey:e.useKey,apiKey:t.toString(n.enc.Utf8)}}catch(e){return}},l=(e,t,s)=>{let r=o(e,t),i=n.AES.encrypt(s.apiKey,a).toString();localStorage.setItem(r,JSON.stringify({apiKey:i,useKey:s.useKey}))},u=(e,t)=>{let s=o(e,t);localStorage.removeItem(s)},c="AI_CHAT_CACHE_DATA",d={useThinking:!1,useAgent:!1,modelId:"",sessionId:""},m=()=>{try{var e;let t=null!==(e=localStorage.getItem(c))&&void 0!==e?e:"{}";return JSON.parse(t)}catch(e){return d}},h=e=>{let t=m();localStorage.setItem(c,JSON.stringify((0,r._)({},t,e)))}},71320:(e,t,s)=>{"use strict";s.d(t,{Ds:()=>u,EM:()=>l,Ev:()=>c,xJ:()=>m,zX:()=>d,zg:()=>i});var r=s(22331),n=s(64011),a=s(47561),o=s(17912);let i=()=>{let e=n.j_.getState().questionSlug;return{ide_version:(0,r.Su)(),ide_question_slug:e}},l=()=>{var e;let t=(0,a.RG)(),s="boolean"!=typeof t.useAgent||t.useAgent,i=n.j_.getState().questionSlug,{currentModel:l}=o.S.getState();return{qd_version:(0,r.Su)(),qd_question_slug:i,qd_agent_on:String(s),qd_is_empty:String(!!t.sessionId),qd_model:null!==(e=null==l?void 0:l.name)&&void 0!==e?e:""}},u=e=>{let{qd_command:t,qd_status:s,qd_fail_reason:r}=e,{qd_model:n,qd_question_slug:a,qd_version:o}=l();return{qd_model:n,qd_question_slug:a,qd_version:o,qd_command:t,qd_status:s,qd_fail_reason:r}},c=e=>{let{qd_status:t,qd_fail_reason:s}=e,{qd_model:r,qd_question_slug:n,qd_version:a,qd_agent_on:o}=l();return{qd_model:r,qd_question_slug:n,qd_version:a,qd_agent_on:o,qd_status:t,qd_fail_reason:s}},d=e=>{let{qd_author:t,qd_status:s,qd_type:r}=e,{qd_model:n,qd_question_slug:a,qd_version:o,qd_agent_on:i}=l();return{qd_model:n,qd_question_slug:a,qd_version:o,qd_agent_on:i,qd_author:t,qd_status:s,qd_type:r}},m=()=>{var e,t;return null!==(t=null===(e=o.S.getState().currentModel)||void 0===e?void 0:e.name)&&void 0!==t?t:""}},30545:(e,t,s)=>{"use strict";s.d(t,{As:()=>i,Cz:()=>c,KQ:()=>a,M3:()=>o,Yf:()=>n,lz:()=>d,n:()=>l,zi:()=>u});var r=s(25810),n=function(e){return e[e.Limit=800]="Limit",e[e.NonPremium=100]="NonPremium",e[e.Premium=50]="Premium",e}({});let a="QD_CONSOLE_PANEL_POSITION";var o=function(e){return e.Left="left",e.Right="right",e}({});let i="QD_CONSOLE_SHOWN_SOURCE_POPOVER";var l=function(e){return e.Testcase="testcase",e.Result="result",e.Debugger="debugger",e}({});let u={[r.yo.Shell]:!1,[r.yo.SystemDesign]:!0,[r.yo.Algorithm]:!0,[r.yo.Database]:!1,[r.yo.Frontend]:!1};var c=function(e){return e.LinkedList="ListNode",e.Tree="TreeNode",e}({});let d=["TreeNode"]},42484:(e,t,s)=>{"use strict";s.d(t,{Ar:()=>v,EL:()=>S,F9:()=>b,KE:()=>f,Zd:()=>M,_3:()=>O,cb:()=>R,eW:()=>A,hz:()=>x,uC:()=>k,uh:()=>I,vK:()=>E,yM:()=>W,yo:()=>T,z5:()=>y});var r=s(96540),n=s(77961),a=s(51559),o=s(25810),i=s(64011),l=s(80570),u=s(57900),c=s(25800),d=s(30545),m=s(34874),h=s(62805),p=s(69104),_=s(90887);let g=e=>e.shell?o.yo.Shell:e.systemdesign?o.yo.SystemDesign:e.database?o.yo.Database:e.frontend?o.yo.Frontend:o.yo.Algorithm,E=e=>{let t=(0,n.N)(e);return t?(t.type=g(t),t.type===o.yo.Algorithm&&(t.params=t.params||[]),t):(a.i.error("Something went wrong with the metadata"),{type:o.yo.Algorithm,name:"",params:[]})},S=e=>d.lz.some(t=>t===e),f=e=>{let t=e.type;return!!d.zi[t]&&t==o.yo.Algorithm&&e.params.some(e=>S(e.type))},v=e=>{let t=e.type;return!!m.r1[t]},T=(e,t)=>{let s=[],r=[],n=[],a=[];if(e.type===o.yo.Algorithm){let o=e;r.push(...t.split("\n")),s.push(...o.params.map(e=>e.name).filter(e=>e)),n.push(...o.params.map(e=>e.type)),a.push(...o.params.map(t=>d.zi[e.type]&&S(t.type)))}else e.type===o.yo.Database?(0,h.Ax)(o.yo.Database,[t]).forEach(e=>{Object.keys(e.tables).forEach(t=>{s.push(t),r.push(e.tables[t])}),Object.keys(e.variables||{}).forEach(t=>{var n;s.push(t),r.push((null===(n=e.variables)||void 0===n?void 0:n[t])||"")})}):r.push(...t.split("\n"));return[s,r,n,a]},y=e=>[p.i.PENDING,p.i.JUDGING].includes(e),b=e=>e.map(e=>Array.isArray(e)?e.join("\n"):e).join("\n"),C=(e,t)=>{let s=[];for(let r=0;r<e.length;r++)r%t==0?s.push([e[r]]):s[s.length-1].push(e[r]);return s},A=(e,t)=>C(e.split("\n"),t),N=/^(.*?) is not a valid value/,O=e=>{let t=e.match(N);return t&&t[1]?t[1]:""},L=[i.tT.Contest],I=()=>!L.includes((0,i.$j)()),D=()=>!(0,i.j_)(e=>e.isActiveContest),w={[i.tT.Contest]:D,[i.tT.Default]:()=>!0},R=()=>(0,l.M)(w)(),W=(e,t,s)=>{let r=E(t).type,{testcaseResultType:n}=e,a=n[s],{input:i,output:l,expected:c,stdout:d}=a,m=e.status===u.rI.AC,h=a.accepted;return{input:i,output:l&&r===o.yo.Database&&(0,_.TE)(l).output||l,expected:c&&r===o.yo.Database&&(0,_.TE)(c).output||c||"",isCodeAccepted:m,isCurrentTestcaseAccepted:h,stdout:d}},k=e=>{let t=(0,i.j_)(e=>e.questionSlug),s=(0,c.v)(t).data.metaData,n=e.testcaseResultType.map((t,r)=>W(e,s,r));return(0,r.useMemo)(()=>{let e=[],t=[],s=[],r=[],a=[],o=[];return n.forEach(n=>{e.push(n.input),t.push(n.output),s.push(n.expected),r.push(n.stdout),a.push(n.isCodeAccepted),o.push(n.isCurrentTestcaseAccepted)}),{input:e,output:t,expected:s,stdout:r.join("")?r:[],isCodeAccepted:a,isCurrentTestcaseAccepted:o}},[n])},M=(e,t)=>{switch(e){case u.rI.AC:return t("result.accepted");case u.rI.WA:return t("result.wrongAnswer");case u.rI.RE:return t("result.runtimeError");case u.rI.CE:return t("result.compileError");case u.rI.INVALID_TESTCASE:return t("result.invalidTestcase");case u.rI.IE:return t("result.internalError");case u.rI.TO:return t("result.timeout");case u.rI.TLE:return t("result.timeLimitExceeded");case u.rI.OLE:return t("result.outputLimitExceeded");case u.rI.MLE:return t("result.memoryLimitExceeded");default:return t("result.unknownError")}},x=e=>{if(e)switch(e.status){case u.rI.CE:return e.fullCompileError;case u.rI.RE:return e.fullRuntimeError;case u.rI.INVALID_TESTCASE:return e.errorMessage;default:return}}},34874:(e,t,s)=>{"use strict";s.d(t,{Cq:()=>i,Q1:()=>m,Qb:()=>d,TK:()=>u,VA:()=>n,XE:()=>a,Yr:()=>l,bG:()=>c,cg:()=>o,r1:()=>h});var r=s(25810);let n=1,a=8,o=0,i=-1,l="QD_CONSOLE_TESTCASE_MODE",u="QD_CONTEST_TESTCASE_MODE",c="QD_CONSOLE_TESTRESULT_MODE",d="QD_TESTCASE_CACHE_";var m=function(e){return e.Tab="tab",e.Text="text",e}({});let h={[r.yo.Shell]:!0,[r.yo.SystemDesign]:!0,[r.yo.Algorithm]:!0,[r.yo.Database]:!1,[r.yo.Frontend]:!0}},90887:(e,t,s)=>{"use strict";s.d(t,{TE:()=>b,gw:()=>f,t3:()=>S});var r=s(92896),n=s(79244),a=s(41929),o=s.n(a),i=s(98569),l=s(77961),u=s(51559),c=s(50201);let d=e=>/^".*"$/.test(e)?e.slice(1,-1):e,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t?d(e):e;return"null"===s?null:"true"===s||"false"!==s&&(o()(s)?parseFloat(s):s)},h=(e,t)=>t?"null"===e?null:"string"===t?e:"number"===t?o()(e)?parseFloat(e):e:"boolean"===t?"true"===e||"false"!==e&&(o()(e)?parseFloat(e):e):e:m(e),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?"null":!0===e?"true":!1===e?"false":"number"==typeof e?String(e):Array.isArray(e)?JSON.stringify(e):t?'"'.concat(e,'"'):String(e)},_=e=>e.map(e=>p(e)),g=(e,t)=>e.map((e,s)=>h(e,t[s])),E=e=>{try{let t={},s=(0,l.N)(e);if(!s)return u.i.error("Something went wrong with the testcase"),{tables:{}};Object.keys(s.headers||{}).forEach(e=>{t[e]=[s.headers[e],...s.rows[e].map(e=>_(e))]});let n={};Object.keys(t).forEach(e=>{n[e]=(0,r.Q)(t[e])});let a=(0,i.A)(s,["headers","rows"]);return Object.keys(a).forEach(e=>{a[e]=p(a[e],!0)}),Object.keys(a).length>0?{tables:n,variables:a}:{tables:n}}catch(e){return{tables:{}}}},S=e=>e.map(E),f=e=>{let t=c.r.getState().dbTestcaseSchema,s={headers:{},rows:{}};try{Object.keys(e.tables).forEach(r=>{let a=(0,n.CG)(e.tables[r].replace(/\n(\n\s*)*/g,"\n").trim());s.headers[r]=Array.from(a.headers),s.rows[r]=Array.from(a.rows).map(e=>{let s=a.headers.map(e=>{var s;return null==t?void 0:null===(s=t[r])||void 0===s?void 0:s[e]});return g(e,s)})}),Object.keys(e.variables||{}).forEach(t=>{var r;s[t]=m((null===(r=e.variables)||void 0===r?void 0:r[t])||"",!0)})}catch(e){s.headers={},s.rows={}}return JSON.stringify(s)},v=e=>"string"==typeof e&&(!(isNaN(Number(e))&&isNaN(Number(e.replace(/^['"]+|['"]+$/g,""))))||"null"===e),T=e=>e.map(e=>p(e,v(e))),y="The input is too long to display. Try running the code to visualize it.",b=e=>{let t=(0,l.N)(e);return e.endsWith("more chars")?(u.i.error(y),{output:""}):t?{output:(0,r.Q)([t.headers,...t.values.map(e=>T(e))])}:(u.i.error("Something went wrong with the output"),{output:""})}},62805:(e,t,s)=>{"use strict";s.d(t,{Ax:()=>m,ig:()=>h,_s:()=>p});var r=s(25810);let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("\n")},a=e=>e.map(n),o=(e,t)=>t?e.join("\n"):e.map(e=>e.replace(/\n/g,"").trim()).join("\n");var i=s(90887);let l=e=>e.split("\n"),u=e=>e.map(l),c=e=>e.map(e=>e.replace(/\n/g,"").trim()).join("\n");var d=s(39330);let m=(e,t)=>e===r.yo.Algorithm?a(t):e===r.yo.Database?(0,i.t3)(t):e===r.yo.SystemDesign?u(t):e===r.yo.Frontend?(0,d.aK)(t):[],h=(e,t,s)=>e===r.yo.Algorithm?t.map(e=>o(e,s)):e===r.yo.Database?t.map(i.gw):e===r.yo.SystemDesign?t.map(c):e===r.yo.Frontend?t.map(d.F$):[],p=(e,t)=>{if(e===r.yo.Frontend){var s;return null!==(s=t.map(d.p1).filter(e=>{let[t]=e;return!t})[0])&&void 0!==s?s:[!0,null]}return[!0,null]}},39330:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F$:()=>encodeFrontendTestcase,Fd:()=>buildFrontendTest,aK:()=>decodeFrontendTestcases,p1:()=>validateFrontendTestcase});let buildFrontendTest=(e,t)=>'it("'.concat(e,'", async () => {\n').concat(t,"\n})"),decodeFrontendTestcase=e=>{let t=e.split("\n");try{let e=JSON.parse(t[0]),s=JSON.parse(t[1]);return buildFrontendTest(e,s)}catch(e){return console.error("Error while decoding Frontend testcase",e),null}},decodeFrontendTestcases=e=>[e.map(decodeFrontendTestcase).join("\n\n")],TEST_FN_BODY_REGEX=RegExp("(async\\s+)*(\\(\\)\\s*\\=\\>\\s*\\{|function\\s*\\(\\)\\s*\\{)(.*?)\\}$","s"),encodeFrontendTestcase=testcase=>{let lines=[];try{function it(e,t){let s=String(t).match(TEST_FN_BODY_REGEX),r=s&&s.length>=3?s[3]:null;r&&(lines.push(JSON.stringify(e)),lines.push(JSON.stringify(r.replace(/^\n|\n$/g,""))))}eval(testcase)}catch(e){return console.error("Error while encoding Frontend testcase",e),""}return lines.join("\n")},validateFrontendTestcase=testcase=>{try{function it(e,t){if("string"!=typeof e)throw Error("test description must be a string");if("function"!=typeof t)throw Error("test body must be a function");let s=String(t).match(TEST_FN_BODY_REGEX);if(!s||s.length<3)throw Error("test body must be a function")}eval(testcase)}catch(e){return[!1,"Invalid testcase: ".concat(e.message)]}return[!0,null]},getTestcaseDescriptions=testcase=>{let descriptions=[];try{function it(e){descriptions.push(JSON.stringify(e))}eval(testcase)}catch(e){return console.error("Error while encoding Frontend testcase",e),[]}return descriptions}},50201:(e,t,s)=>{"use strict";s.d(t,{I:()=>m,r:()=>h});var r=s(77528),n=s(55456),a=s(37069),o=s(7282),i=s(87134),l=s(25810),u=s(34874),c=s(39722);let d=(e,t,s)=>t>=s?Math.min(Math.max(0,t-1),e.length-2):t,m={activeTestcase:u.cg,activeTestcaseParam:u.Cq,testcaseList:[],dbTestcaseSchema:{},failedFrontendTestLines:[],failedFrontendTests:[],limitErrorVisible:!1,lineNumber:1,testcaseCacheKey:""},h=(0,o.vt)((0,i.kg)(m,(e,t)=>({canAddTestcase:()=>t().testcaseList.length<u.XE,canAddXTestcases:e=>t().testcaseList.length+e<=u.XE,canDeleteTestcase:()=>t().testcaseList.length>u.VA,setTestcaseCacheKey:t=>e(e=>(0,n._)((0,r._)({},e),{testcaseCacheKey:t})),addTestcase:(s,o)=>e(e=>{let i=(0,a.A)(s),u=t().testcaseList,d=u.length,m=[...e.testcaseList,i],h=u[0];return o===l.yo.Algorithm&&1===d&&(null==h?void 0:h.length)===1&&""===h[0]&&(m=[i]),(0,c.Au)(e.testcaseCacheKey,m),(0,n._)((0,r._)({},e),{testcaseList:m,activeTestcase:d})}),addTestcases:s=>e(e=>{let o=s.map(e=>(0,a.A)(e)),i=t().testcaseList.length+o.length-1,l=[...e.testcaseList,...o];return(0,c.Au)(e.testcaseCacheKey,l),(0,n._)((0,r._)({},e),{testcaseList:[...e.testcaseList,...o],activeTestcase:Math.min(i,l.length-1)})}),deleteTestcase:s=>e(e=>{let{testcaseList:a,activeTestcase:o}=t(),i=d(a,o,s),l=a.filter((e,t)=>t!==s);return(0,c.Au)(e.testcaseCacheKey,l),(0,n._)((0,r._)({},e),{testcaseList:l,activeTestcase:i})}),setTestcaseList:function(s){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e(e=>{let{activeTestcase:o}=t(),i=s.length,l=d(s,o,i);return a&&(0,c.Au)(e.testcaseCacheKey,s),(0,n._)((0,r._)({},e),{testcaseList:s,activeTestcase:l})})},setDbTestcaseSchema:t=>e(e=>{let s=Object.entries(t).reduce((e,t)=>{let[s,a]=t,o=Object.entries(a).reduce((e,t)=>{let[s,a]=t;return(0,n._)((0,r._)({},e),{[s]:p(a)})},{});return(0,n._)((0,r._)({},e),{[s]:o})},{});return(0,n._)((0,r._)({},e),{dbTestcaseSchema:s})}),setActiveTestcase:t=>e(e=>(0,n._)((0,r._)({},e),{activeTestcase:t,activeTestcaseParam:u.Cq})),setActiveTestcaseParam:t=>e(e=>(0,n._)((0,r._)({},e),{activeTestcaseParam:t})),setLimitErrorVisible:t=>e(e=>(0,n._)((0,r._)({},e),{limitErrorVisible:t})),setLineNumber:t=>e(e=>(0,n._)((0,r._)({},e),{lineNumber:t})),setActiveTestcaseWithParam:(t,s)=>e(e=>(0,n._)((0,r._)({},e),{activeTestcase:t,activeTestcaseParam:s})),setFailedFrontendTestLines:t=>e(e=>(0,n._)((0,r._)({},e),{failedFrontendTestLines:t})),setFailedFrontendTests:t=>e(e=>(0,n._)((0,r._)({},e),{failedFrontendTests:t}))})));function p(e){var t;let s=null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:"";switch(!0){case s.startsWith("char"):case s.startsWith("varchar"):case s.startsWith("tinytext"):case s.startsWith("text"):case s.startsWith("mediumtext"):case s.startsWith("longtext"):case s.startsWith("enum"):case s.startsWith("set"):case s.startsWith("date"):case s.startsWith("time"):case s.startsWith("datetime"):case s.startsWith("timestamp"):case s.startsWith("year"):return"string";case s.startsWith("tinyint"):case s.startsWith("smallint"):case s.startsWith("mediumint"):case s.startsWith("int"):case s.startsWith("bigint"):case s.startsWith("float"):case s.startsWith("double"):case s.startsWith("decimal"):return"number";case s.startsWith("bit"):case s.startsWith("bool"):case s.startsWith("boolean"):return"boolean";default:return null}}},39722:(e,t,s)=>{"use strict";s.d(t,{Au:()=>_,OY:()=>S,QD:()=>h,R1:()=>m,eV:()=>p,id:()=>g});var r=s(12295),n=s(64011),a=s(80570),o=s(13814),i=s(15440),l=s(34874);let u=function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Q1.Tab;return r.S$?s:null!==(t=localStorage.getItem(e))&&void 0!==t?t:s},c={[n.tT.Default]:l.Yr,[n.tT.Contest]:l.TK},d={[n.tT.Default]:u(l.Yr,l.Q1.Tab),[n.tT.Contest]:u(l.TK,l.Q1.Text)},m=()=>(0,a.M)(c),h=()=>(0,a.M)(d),p=e=>"".concat(l.Qb).concat(e),_=(e,t)=>{if(!e)return;let s=JSON.stringify(t);s.length<=5e3?sessionStorage.setItem(e,s):i.L.qdCancelTestcaseCacheClick({qd_question_slug:e.replace(l.Qb,"")})},g=e=>{let t=sessionStorage.getItem(p(e));return t?JSON.parse(t):null},E=()=>{if((0,o.Bd)())for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t&&t.startsWith("QD_TESTCASE_CACHE_")&&localStorage.removeItem(t)}},S=e=>{sessionStorage.removeItem(p(e)),E()}},69104:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});var r=function(e){return e.INIT="Init",e.NETWORK_ERROR="Network Error",e.SERVER_ERROR="Server Error",e.UNAUTH_ACCESS_ERROR="No Access Error",e.PENDING="Pending",e.JUDGING="Judging",e.SLOWDOWN="Slowdown",e.RUNCODE="RunCode",e.SUBMIT="Submit",e}({})},15457:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});let r="chat-event",n={send(e){window.dispatchEvent(new CustomEvent(r,{detail:e}))},subscribe(e){function t(t){e(t.detail)}return window.addEventListener(r,t),()=>window.removeEventListener(r,t)}}},11475:(e,t,s)=>{"use strict";s.d(t,{ZW:()=>r,aW:()=>n});var r=function(e){return e.AddSnippet="add-snippet",e.ApplyDiff="apply-diff",e.SelectTab="select-tab",e.AddTestcase="add-testcase",e.AddChat="add-chat",e.AcceptAllDiff="accept-all-diff",e.RejectAllDiff="reject-all-diff",e.SetActiveTab="set-active-tab",e.IdeTabChange="ide-tab-change",e.SetSelectedContent="set-selected-content",e.SetPopoverCommand="set-popover-command",e.TriggerSetPopoverCommand="trigger-set-popover-command",e}({});let n=["add-snippet","add-chat","set-selected-content"]},40221:(e,t,s)=>{"use strict";s.d(t,{AM:()=>p});var r=s(77528),n=s(55456),a=s(4418),o=s(74848),i=s(96540),l=s(9823),u=s(82479),c=s(73651);let d=l.bL,m=l.l9,h=e=>{var{ref:t,className:s,align:n="center",sideOffset:i=8,collisionPadding:c=8}=e,d=(0,a._)(e,["ref","className","align","sideOffset","collisionPadding"]);return(0,o.jsx)(l.ZL,{children:(0,o.jsx)(l.UC,(0,r._)({ref:t,align:n,sideOffset:i,collisionPadding:c,className:(0,u.xF)("bg-sd-popover text-sd-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 rounded-sd-md border-sd-border z-modal border p-4 shadow-md outline-none",s),onOpenAutoFocus:e=>e.preventDefault()},d))})};h.displayName=l.UC.displayName;let p=e=>{var t,{defaultOpen:s,open:l,onOpenChange:p,modal:_,children:g,content:E,trigger:S="click",openDelay:f=100,closeDelay:v=300,className:T,hideWhenDetached:y,asChild:b=!0,onContentClick:C,buttonClassName:A}=e,N=(0,a._)(e,["defaultOpen","open","onOpenChange","modal","children","content","trigger","openDelay","closeDelay","className","hideWhenDetached","asChild","onContentClick","buttonClassName"]);let O=i.useRef(null),L=(0,c.v)(O.current,{root:null,threshold:0}),I=null!==(t=null==L?void 0:L.isIntersecting)&&void 0!==t&&t,D=y&&!I,[w,R]=i.useState(null),[W,k]=i.useState(null),M=i.useCallback(()=>{W&&clearTimeout(W),R(setTimeout(()=>null==p?void 0:p(!0),f))},[W,p,f]),x=i.useCallback(()=>{w&&clearTimeout(w),k(setTimeout(()=>null==p?void 0:p(!1),v))},[w,p,v]);i.useEffect(()=>()=>{w&&clearTimeout(w),W&&clearTimeout(W)},[w,W]);let F=i.useMemo(()=>"hover"===S?{onMouseEnter:M,onMouseLeave:x}:{},[M,x,S]);return(0,o.jsxs)(d,{defaultOpen:s,open:l,onOpenChange:p,modal:_,children:[(0,o.jsx)(m,(0,n._)((0,r._)({asChild:b,ref:O,className:A},F),{children:g})),(0,o.jsx)(h,(0,n._)((0,r._)({className:(0,u.xF)(T,{hidden:D}),hideWhenDetached:y,onClick:C},N,F),{children:E}))]})}},63864:(e,t,s)=>{"use strict";s.d(t,{N:()=>m});var r=s(77528),n=s(55456),a=s(4418),o=s(74848);s(96540);var i=s(91106),l=s.n(i),u=s(82479),c=s(36768);let d=e=>e.includes("/subscribe"),m=e=>{var{ref:t,href:s,children:i,className:m,isExternal:h,shallow:p,scroll:_}=e,g=(0,a._)(e,["ref","href","children","className","isExternal","shallow","scroll"]);let E=h?{target:"_blank",rel:"noopener noreferrer"}:{},{noTruncate:S}=g,f=(0,a._)(g,["noTruncate"]);if(d(s))return(0,o.jsx)("a",(0,n._)((0,r._)({ref:t,href:s},f,E),{className:(0,u.xF)("no-underline",c.MY.labelBlueStandardHover,S?"":"truncate",m),children:i}));let v=(0,o.jsx)("a",(0,n._)((0,r._)({ref:t},f,E),{className:(0,u.xF)("no-underline",c.MY.labelBlueStandardHover,S?"":"truncate",m),children:i}));return s?(0,o.jsx)(l(),{ref:t,href:s,shallow:p,scroll:_,legacyBehavior:!0,children:v}):v}},73651:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(96540);let n=(e,t)=>{let[s,n]=(0,r.useState)(null),{threshold:a,root:o,rootMargin:i,enabled:l=!0}=t;return(0,r.useEffect)(()=>{if(l&&e&&"function"==typeof IntersectionObserver){let t=new IntersectionObserver(e=>{n(e[0])},{threshold:a,root:o,rootMargin:i});return t.observe(e),()=>{n(null),t.disconnect()}}},[e,a,o,i,l]),s}},50477:()=>{}}]);