(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5e3],{25072:(e,t,l)=>{var s=l(71354),r=l(76314)(s);r.push([e.id,".K6RMy{-webkit-text-fill-color:#0000;background:linear-gradient(114deg,#af52de 8%,#007aff 150.58%);background-clip:text;-webkit-background-clip:text}","",{version:3,sources:["webpack://./modules/ai-agent-chat/components/LeetTextSpan/styles.iso.css"],names:[],mappings:"AAAA,OAIE,6BAAoC,CAHpC,6DAAgE,CAChE,oBAAqB,CACrB,4BAEF",sourcesContent:[".leetText{\n  background: linear-gradient(114deg, #AF52DE 8%, #007AFF 150.58%);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n"],sourceRoot:""}]),r.locals={leetText:"K6RMy"},e.exports=r},44249:(e,t,l)=>{"use strict";l.d(t,{f:()=>i});var s=l(77528),r=l(55456),n=l(4418),a=l(74848);l(96540);let i=function(e){var{ref:t}=e,l=(0,n._)(e,["ref"]);return(0,a.jsx)("svg",(0,r._)((0,s._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},l),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M11 20a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zM17.018 5c-.26 0-.51.104-.695.288L4.837 16.773l-.463 1.853 1.853-.463L17.712 6.677A.981.981 0 0017.018 5zm-2.11-1.126a2.983 2.983 0 014.219 4.217L7.444 19.773a1 1 0 01-.464.263l-3.738.934a1 1 0 01-1.213-1.212l.934-3.739a1 1 0 01.263-.464L14.91 3.874z",clipRule:"evenodd"})}))}},93127:(e,t,l)=>{"use strict";l.d(t,{F:()=>i});var s=l(77528),r=l(55456),n=l(4418),a=l(74848);l(96540);let i=function(e){var{ref:t}=e,l=(0,n._)(e,["ref"]);return(0,a.jsx)("svg",(0,r._)((0,s._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},l),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18.995 4.824A3 3 0 0016 2H6l-.176.005A3 3 0 003 5v14l.005.176A3 3 0 006 22h4l.117-.007A1 1 0 0010 20H6l-.117-.007A1 1 0 015 19V5l.007-.117A1 1 0 016 4h10l.117.007A1 1 0 0117 5v6l.007.117A1 1 0 0019 11V5l-.005-.176zM12 13a1 1 0 00-1-1H8a1 1 0 100 2h3a1 1 0 001-1zm3-4a1 1 0 00-1-1H8a1 1 0 000 2h6a1 1 0 001-1zm.572 12.85l4.933-2.979a1.014 1.014 0 000-1.742l-4.933-2.98a1.042 1.042 0 00-.539-.149c-.57 0-1.033.457-1.033 1.02v5.959c0 .188.053.372.152.532a1.04 1.04 0 001.42.34z",clipRule:"evenodd"})}))}},28066:(e,t,l)=>{"use strict";l.d(t,{u:()=>d});var s=l(74848),r=l(32485),n=l.n(r),a=l(90005),i=l(8900),o=l.n(i);let d=e=>{let{className:t,children:l}=e;return(0,a.I)(o()),(0,s.jsx)("span",{className:n()(o().leetText,t),children:l})}},81272:(e,t,l)=>{"use strict";l.d(t,{D:()=>i});var s=l(74848);l(96540);var r=l(3519),n=l(82479),a=l(36768);let i=e=>{let{ref:t,tooltipText:l,children:i,onClick:o,className:d,disabled:c,tooltipPlacement:u="left"}=e;return l?(0,s.jsx)(r.m_,{label:l,isDisabled:c,placement:u,children:(0,s.jsx)("div",{ref:t,onClick:o,className:(0,n.xF)("p-[1px]",{"cursor-pointer":!c},d),children:i})}):(0,s.jsx)("div",{ref:t,className:(0,n.xF)("group cursor-pointer rounded p-1",a.MY.fill2Hover,d),onClick:o,children:i})}},13847:(e,t,l)=>{"use strict";l.d(t,{N:()=>h});var s=l(74848),r=l(96540),n=l(84038),a=l(82479),i=l(27064),o=l(56844),d=l(85730),c=l(36768),u=l(53921);let h=e=>{let{paramType:t,visible:l,onCancel:h,data:f}=e,[m,g]=(0,r.useState)(!1),{t:p}=(0,n.Bd)("console");return(0,s.jsx)(i.a,{visible:l,closable:!1,className:"w-full bg-transparent dark:bg-transparent",noShadow:!0,onCancel:h,renderPrefixChildren:[m?(0,s.jsx)("div",{className:"absolute left-1/2 top-[52px] -translate-x-3/4",children:(0,s.jsx)(o.D,{content:p("fullTreeTooBig"),type:"info",className:c.MY.label2})},"too-big"):void 0,(0,s.jsx)("button",{onClick:h,className:(0,a.xF)("absolute right-[52px] top-[52px] h-10 w-10 cursor-pointer rounded-full transition-all",c.MY.bgPaper,c.MY.fill3Hover),children:(0,s.jsx)(d.x,{className:(0,a.xF)("h-6 w-10",c.MY.label2)})},"close-btn")],children:(0,s.jsx)(u.w,{data:f,paramType:t,onTruncateChange:g,className:"max-h-full w-full",maxDepth:10})})}},33932:(e,t,l)=>{"use strict";l.d(t,{Cm:()=>s,Ug:()=>r,lw:()=>n,rY:()=>m});let s=-1,r=1,n=0,a=/[^a-zA-Z0-9]/,i=/\s/,o=/[\r\n]/,d=/\n\r?\n$/,c=/^\r?\n\r?\n/,u=(e,t)=>{if(!e||!t)return 6;let l=e.charAt(e.length-1),s=t.charAt(0),r=l.match(a),n=s.match(a),u=r&&l.match(i),h=n&&s.match(i),f=u&&l.match(o),m=h&&s.match(o),g=f&&e.match(d),p=m&&t.match(c);return g||p?5:f||m?4:r&&!u&&h?3:u||h?2:r||n?1:0},h=(e,t)=>{for(let l=0;l<e.length;l++){let s=e[l][1],r=[];for(let e=0;e<s.length;e++)r[e]=t[s.charCodeAt(e)];e[l][1]=r.join("")}},f=(e,t)=>{let l=e.length,s=t.length;if(0==l||0==s)return 0;l>s?e=e.substring(l-s):l<s&&(t=t.substring(0,l));let r=Math.min(l,s);if(e==t)return r;let n=0,a=1;for(;;){let l=e.substring(r-a),s=t.indexOf(l);if(-1==s)return n;a+=s,(0==s||e.substring(r-a)==t.substring(0,a))&&(n=a,a++)}};class m{diff_main(e,t){let l=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=arguments.length>3?arguments[3]:void 0;void 0===s&&(s=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);let r=s;if(null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[n,e]]:[];let a=this.diff_commonPrefix(e,t),i=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);let o=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);let d=this.diff_compute_(e,t,l,r);return i&&d.unshift([n,i]),o&&d.push([n,o]),this.diff_cleanupMerge(d),d}diff_compute_(e,t,l,a){if(!e)return[[r,t]];if(!t)return[[s,e]];let i=e.length>t.length?e:t,o=e.length>t.length?t:e,d=i.indexOf(o);if(-1!=d){let l=[[r,i.substring(0,d)],[n,o],[r,i.substring(d+o.length)]];return e.length>t.length&&(l[0][0]=l[2][0]=s),l}if(1==o.length)return[[s,e],[r,t]];let c=this.diff_halfMatch_(e,t);if(c){let e=c[0],t=c[1],s=c[2],r=c[3],i=c[4],o=this.diff_main(e,s,l,a),d=this.diff_main(t,r,l,a);return o.concat([[n,i]],d)}return l&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,a):this.diff_bisect_(e,t,a)}diff_lineMode_(e,t,l){let a=this.diff_linesToChars_(e,t);e=a.chars1,t=a.chars2;let i=a.lineArray,o=this.diff_main(e,t,!1,l);h(o,i),this.diff_cleanupSemantic(o),o.push([n,""]);let d=0,c=0,u=0,f="",m="";for(;d<o.length;){switch(o[d][0]){case r:u++,m+=o[d][1];break;case s:c++,f+=o[d][1];break;case n:if(c>=1&&u>=1){o.splice(d-c-u,c+u),d=d-c-u;let e=this.diff_main(f,m,!1,l);for(let t=e.length-1;t>=0;t--)o.splice(d,0,e[t]);d+=e.length}u=0,c=0,f="",m=""}d++}return o.pop(),o}diff_bisect_(e,t,l){let n=e.length,a=t.length,i=Math.ceil((n+a)/2),o=2*i,d=Array(o),c=Array(o);for(let e=0;e<o;e++)d[e]=-1,c[e]=-1;d[i+1]=0,c[i+1]=0;let u=n-a,h=u%2!=0,f=0,m=0,g=0,p=0;for(let s=0;s<i&&!(new Date().getTime()>l);s++){for(let r=-s+f;r<=s-m;r+=2){let g=i+r,p=r==-s||r!=s&&d[g-1]<d[g+1]?d[g+1]:d[g-1]+1,x=p-r;for(;p<n&&x<a&&e.charAt(p)==t.charAt(x);)p++,x++;if(d[g]=p,p>n)m+=2;else if(x>a)f+=2;else if(h){let s=i+u-r;if(s>=0&&s<o&&-1!=c[s]&&p>=n-c[s])return this.diff_bisectSplit_(e,t,p,x,l)}}for(let r=-s+g;r<=s-p;r+=2){let f=i+r,m=r==-s||r!=s&&c[f-1]<c[f+1]?c[f+1]:c[f-1]+1,x=m-r;for(;m<n&&x<a&&e.charAt(n-m-1)==t.charAt(a-x-1);)m++,x++;if(c[f]=m,m>n)p+=2;else if(x>a)g+=2;else if(!h){let s=i+u-r;if(s>=0&&s<o&&-1!=d[s]){let r=d[s],a=i+r-s;if(r>=(m=n-m))return this.diff_bisectSplit_(e,t,r,a,l)}}}}return[[s,e],[r,t]]}diff_bisectSplit_(e,t,l,s,r){let n=e.substring(0,l),a=t.substring(0,s),i=e.substring(l),o=t.substring(s),d=this.diff_main(n,a,!1,r),c=this.diff_main(i,o,!1,r);return d.concat(c)}diff_linesToChars_(e,t){let l=[],s={};l[0]="";let r=e=>{let t="",r=0,n=-1,a=l.length;for(;n<e.length-1;){-1==(n=e.indexOf("\n",r))&&(n=e.length-1);let i=e.substring(r,n+1);r=n+1,(s.hasOwnProperty?s.hasOwnProperty(i):void 0!==s[i])?t+=String.fromCharCode(s[i]):(t+=String.fromCharCode(a),s[i]=a,l[a++]=i)}return t};return{chars1:r(e),chars2:r(t),lineArray:l}}diff_commonPrefix(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;let l=0,s=Math.min(e.length,t.length),r=s,n=0;for(;l<r;)e.substring(n,r)==t.substring(n,r)?n=l=r:s=r,r=Math.floor((s-l)/2+l);return r}diff_commonSuffix(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;let l=0,s=Math.min(e.length,t.length),r=s,n=0;for(;l<r;)e.substring(e.length-r,e.length-n)==t.substring(t.length-r,t.length-n)?n=l=r:s=r,r=Math.floor((s-l)/2+l);return r}diff_halfMatch_(e,t){let l,s,r,n,a;if(this.Diff_Timeout<=0)return null;let i=e.length>t.length?e:t,o=e.length>t.length?t:e;if(i.length<4||2*o.length<i.length)return null;let d=(e,t,l)=>{let s,r,n,a;let i=e.substring(l,l+Math.floor(e.length/4)),o=-1,d="";for(;-1!=(o=t.indexOf(i,o+1));){let i=this.diff_commonPrefix(e.substring(l),t.substring(o)),c=this.diff_commonSuffix(e.substring(0,l),t.substring(0,o));d.length<c+i&&(d=t.substring(o-c,o)+t.substring(o,o+i),s=e.substring(0,l-c),r=e.substring(l+i),n=t.substring(0,o-c),a=t.substring(o+i))}return 2*d.length>=e.length?[s,r,n,a,d]:null},c=d(i,o,Math.ceil(i.length/4)),u=d(i,o,Math.ceil(i.length/2));return c||u?(l=u?c&&c[4].length>u[4].length?c:u:c,e.length>t.length?(s=l[0],r=l[1],n=l[2],a=l[3]):(n=l[0],a=l[1],s=l[2],r=l[3]),[s,r,n,a,l[4]]):null}diff_cleanupSemantic(e){let t=!1,l=[],a=0,i=null,o=0,d=0,c=0,u=0,h=0;for(;o<e.length;)e[o][0]==n?(l[a++]=o,d=u,c=h,u=0,h=0,i=e[o][1]):(e[o][0]==r?u+=e[o][1].length:h+=e[o][1].length,i&&i.length<=Math.max(d,c)&&i.length<=Math.max(u,h)&&(e.splice(l[a-1],0,[s,i]),e[l[a-1]+1][0]=r,a--,o=--a>0?l[a-1]:-1,d=0,c=0,u=0,h=0,i=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]==s&&e[o][0]==r){let t=e[o-1][1],l=e[o][1],a=f(t,l),i=f(l,t);a>=i?(a>=t.length/2||a>=l.length/2)&&(e.splice(o,0,[n,l.substring(0,a)]),e[o-1][1]=t.substring(0,t.length-a),e[o+1][1]=l.substring(a),o++):(i>=t.length/2||i>=l.length/2)&&(e.splice(o,0,[n,t.substring(0,i)]),e[o-1][0]=r,e[o-1][1]=l.substring(0,l.length-i),e[o+1][0]=s,e[o+1][1]=t.substring(i),o++),o++}o++}}diff_cleanupSemanticLossless(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]==n&&e[t+1][0]==n){let l=e[t-1][1],s=e[t][1],r=e[t+1][1],n=this.diff_commonSuffix(l,s);if(n){let e=s.substring(s.length-n);l=l.substring(0,l.length-n),s=e+s.substring(0,s.length-n),r=e+r}let a=l,i=s,o=r,d=u(l,s)+u(s,r);for(;s.charAt(0)===r.charAt(0);){l+=s.charAt(0),s=s.substring(1)+r.charAt(0),r=r.substring(1);let e=u(l,s)+u(s,r);e>=d&&(d=e,a=l,i=s,o=r)}e[t-1][1]!=a&&(a?e[t-1][1]=a:(e.splice(t-1,1),t--),e[t][1]=i,o?e[t+1][1]=o:(e.splice(t+1,1),t--))}t++}}diff_cleanupEfficiency(e){let t=!1,l=[],a=0,i=null,o=0,d=!1,c=!1,u=!1,h=!1;for(;o<e.length;)e[o][0]==n?(e[o][1].length<this.Diff_EditCost&&(u||h)?(l[a++]=o,d=u,c=h,i=e[o][1]):(a=0,i=null),u=h=!1):(e[o][0]==s?h=!0:u=!0,i&&(d&&c&&u&&h||i.length<this.Diff_EditCost/2&&d+c+u+h==3)&&(e.splice(l[a-1],0,[s,i]),e[l[a-1]+1][0]=r,a--,i=null,d&&c?(u=h=!0,a=0):(o=--a>0?l[a-1]:-1,u=h=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)}diff_cleanupMerge(e){let t;e.push([n,""]);let l=0,a=0,i=0,o="",d="";for(;l<e.length;)switch(e[l][0]){case r:i++,d+=e[l][1],l++;break;case s:a++,o+=e[l][1],l++;break;case n:a+i>1?(0!==a&&0!==i&&(0!==(t=this.diff_commonPrefix(d,o))&&(l-a-i>0&&e[l-a-i-1][0]==n?e[l-a-i-1][1]+=d.substring(0,t):(e.splice(0,0,[n,d.substring(0,t)]),l++),d=d.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(d,o))&&(e[l][1]=d.substring(d.length-t)+e[l][1],d=d.substring(0,d.length-t),o=o.substring(0,o.length-t))),0===a?e.splice(l-i,a+i,[r,d]):0===i?e.splice(l-a,a+i,[s,o]):e.splice(l-a-i,a+i,[s,o],[r,d]),l=l-a-i+(a?1:0)+(i?1:0)+1):0!==l&&e[l-1][0]==n?(e[l-1][1]+=e[l][1],e.splice(l,1)):l++,i=0,a=0,o="",d=""}""===e[e.length-1][1]&&e.pop();let c=!1;for(l=1;l<e.length-1;)e[l-1][0]==n&&e[l+1][0]==n&&(e[l][1].substring(e[l][1].length-e[l-1][1].length)==e[l-1][1]?(e[l][1]=e[l-1][1]+e[l][1].substring(0,e[l][1].length-e[l-1][1].length),e[l+1][1]=e[l-1][1]+e[l+1][1],e.splice(l-1,1),c=!0):e[l][1].substring(0,e[l+1][1].length)==e[l+1][1]&&(e[l-1][1]+=e[l+1][1],e[l][1]=e[l][1].substring(e[l+1][1].length)+e[l+1][1],e.splice(l+1,1),c=!0)),l++;c&&this.diff_cleanupMerge(e)}constructor(){this.Diff_Timeout=1,this.Diff_EditCost=4}}},79548:(e,t,l)=>{"use strict";l.d(t,{c:()=>d});var s=l(77528),r=l(55456),n=l(7282),a=l(87134),i=l(30545),o=l(34874);let d=(0,n.vt)((0,a.kg)({expanded:!1,activeTab:i.n.Testcase,visualiserEnabled:!0,enableRawTestcase:!0,testcaseMode:(()=>{var e;return null!==(e=localStorage.getItem(o.Yr))&&void 0!==e?e:o.Q1.Tab})(),testResultMode:(()=>{var e;return null!==(e=localStorage.getItem(o.bG))&&void 0!==e?e:o.Q1.Tab})(),testResultModeFocusLine:0,testResultModeFocusCase:0,testResultModeFocusCaseParam:"",hasShownSourceModePopover:(()=>{var e;return null!==(e=localStorage.getItem(i.As))&&void 0!==e&&e})(),showInconsistentResultPopover:!1,consolePosition:(()=>{var e;return null!==(e=localStorage.getItem(i.KQ))&&void 0!==e?e:i.M3.Right})(),enableRunCode:!0,enableSubmit:!0,enableTestMode:!1,enableDebugger:!0,editor:null,showAiChat:!1,isHiddenConsole:!1,isVerifyEmailModalVisible:!1,verifyEmailModalSource:void 0},(e,t)=>({setExpanded:t=>e(e=>(0,r._)((0,s._)({},e),{expanded:t})),setActiveTab:t=>e(e=>(0,r._)((0,s._)({},e),{activeTab:t})),setVisualiserEnabled:t=>e(e=>(0,r._)((0,s._)({},e),{visualiserEnabled:t})),setEnableRawTestcase:t=>e(e=>(0,r._)((0,s._)({},e),{enableRawTestcase:t})),toggleTestcaseMode:function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Yr,n=t().testcaseMode===o.Q1.Tab?o.Q1.Text:o.Q1.Tab,a=t().hasShownSourceModePopover;return localStorage.setItem(l,n),n===o.Q1.Text&&(localStorage.setItem(i.As,String(!0)),a=!0),e(e=>(0,r._)((0,s._)({},e),{testcaseMode:n,hasShownSourceModePopover:a}))},setTestcaseMode:t=>e(e=>(0,r._)((0,s._)({},e),{testcaseMode:t})),toggleTestResultMode:()=>{let l=t().testResultMode===o.Q1.Tab?o.Q1.Text:o.Q1.Tab;return localStorage.setItem(o.bG,l),e(e=>(0,r._)((0,s._)({},e),{testResultMode:l}))},setTestResultMode:t=>e(e=>(0,r._)((0,s._)({},e),{testResultMode:t})),setTestResultModeLine:t=>e(e=>(0,r._)((0,s._)({},e),{testResultModeFocusLine:t})),setTestResultModeCase:t=>e(e=>(0,r._)((0,s._)({},e),{testResultModeFocusCase:t})),setTestResultModeCaseParam:t=>e(e=>(0,r._)((0,s._)({},e),{testResultModeFocusCaseParam:t})),setShownSourceModePopover:()=>(localStorage.setItem(i.As,String(!0)),e(e=>(0,r._)((0,s._)({},e),{hasShownSourceModePopover:!0}))),setShowInconsistentResultPopover:t=>e(e=>(0,r._)((0,s._)({},e),{showInconsistentResultPopover:t})),toggleInconsistentResult:()=>{let l=!t().showInconsistentResultPopover;return e(e=>(0,r._)((0,s._)({},e),{showInconsistentResultPopover:l}))},toggleConsolePosition:()=>{let l=t().consolePosition===i.M3.Right?i.M3.Left:i.M3.Right;return localStorage.setItem(i.KQ,l),e(e=>(0,r._)((0,s._)({},e),{consolePosition:l}))},setEnableRunCode:t=>e(e=>(0,r._)((0,s._)({},e),{enableRunCode:t})),setEnableSubmit:t=>e(e=>(0,r._)((0,s._)({},e),{enableSubmit:t})),setEnableTestMode:t=>e(e=>(0,r._)((0,s._)({},e),{enableTestMode:t})),setEnableDebugger:t=>e(e=>(0,r._)((0,s._)({},e),{enableDebugger:t})),setEditor:t=>e(e=>(0,r._)((0,s._)({},e),{editor:t})),setShowAiChat:t=>e(e=>(0,r._)((0,s._)({},e),{showAiChat:t})),setIsHiddenConsole:t=>e(e=>(0,r._)((0,s._)({},e),{isHiddenConsole:t})),setIsVerifyEmailModalVisible:(t,l)=>e(e=>(0,r._)((0,s._)({},e),{isVerifyEmailModalVisible:t,verifyEmailModalSource:l}))})))},53921:(e,t,l)=>{"use strict";l.d(t,{w:()=>T});var s=l(74848),r=l(96540),n=l(84038),a=l(82479),i=l(41811),o=l(33636);class d{head(){if(this.first!==this.last)return this.data[this.first%this.max]}enqueue(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];for(let e=0,l=t.length;e<l;e++){if(this.isFull())throw Error("[Enqueue Failure]: Queue is full.(".concat(this.max,")"));this.data[this.last++%this.max]=t[e]}}dequeue(){if(!this.isEmpty())return this.data[this.first++%this.max]}isFull(){return this.last-this.first===this.max}isEmpty(){return void 0===this.head()}clear(){this.data=[],this.first=0,this.last=0}constructor(e=1e3){this.clear(),this.max=e,this.first=0,this.last=0,this.data=[]}}class c{constructor(e){this.val=e,this.left=null,this.right=null}}let u=o.B22(),h={name:"",isNull:!0,depth:0,width:0,children:null},f={name:"...",depth:0,children:[h,h],isNull:!1,width:1},m=(e,t,l)=>{let s=[e],r=!1,n=1;for(;s.length>0;){let e=[],a=0;for(let e of s)e.children&&(a+=e.children.filter(e=>!e.isNull).length);if(n+1>=t||a>l){for(let e of s)e.children&&(e.children=e.children.map(e=>!e.isNull&&e.children.filter(e=>!e.isNull).length>0?(r=!0,f):e));break}for(let t of s)t.children&&e.push(...t.children.filter(e=>!e.isNull));s=e,n++}let a=e=>{if(e.isNull)return e;e.children.forEach(a),e.depth=e.children.reduce((e,t)=>Math.max(e,t.depth),0)+1;let t=e.children.reduce((e,t)=>e+t.width,0);return e.width=t<2?t+1:t,e};return[a(e),r]},g=(0,i.default)((e,t,l)=>{let s=JSON.parse(e),r="number"==typeof s&&"string"==typeof e,n="string"==typeof s&&"string"==typeof e;if((r||n)&&(s=[s]),!Array.isArray(s))throw Error();let[a,i]=m(function e(t){let l=null===t,s={children:null,name:l?"":t.val.toString(),isNull:l,depth:0,width:0};if(l)return s;let r=e(t.left),n=e(t.right),a=Math.max(r.depth,n.depth)+1,i=r.width+n.width;return s.children=[r,n],s.depth=a,s.width=i<2?i+1:i,s}(function(e){let t,l,s;if(!Array.isArray(e))throw TypeError("Cannot parse a non-array type.");if(0===e.length)return null;if(null===e[0])throw Error("Root of Tree cannot be `null`.");let r=new d,n=new c(e[0]);r.enqueue(n);let a=0;for(;!r.isEmpty();)t=r.dequeue(),l=e[a+1],s=e[a+2],t.left=null==l?null:new c(l),t.right=null==s?null:new c(s),t.left&&r.enqueue(t.left),t.right&&r.enqueue(t.right),a+=2;return n}(s)),t,l);return!function(e){u.size([40*e.width+40*e.depth/6,40*e.depth])}(a),{isTruncated:i,rootNode:u(o.Sk5(a))}}),p=(e,t,l)=>{let[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{try{let s=g(e,t,l);n(s.rootNode),d(!1),s.isTruncated?i(!0):i(!1)}catch(e){d(!0)}},[e,t,l]),{lastValidTree:s,isTreeTruncated:a,isParseFailed:o}};var x=l(32485),b=l.n(x);let v={width:400,height:400},w=e=>{let{className:t="",dimensions:l=v,rootNode:n}=e,a=(0,r.useRef)(null),i=(0,r.useRef)(null);if(null===n)return null;let o=n.descendants().reduce((e,t)=>e.y>t.y?e:t),d=n.descendants().reduce((e,t)=>e.x>t.x?e:t),{width:c,height:u}=l;c||(c=d.x),u||(u=o.y+25);let h=b()({"data-structure-viewer":!0,[t]:!!t});return(0,s.jsx)("div",{className:h,children:(0,s.jsx)("svg",{width:c,height:u,viewBox:"0 0 ".concat(c," ").concat(u),preserveAspectRatio:"xMinYMin",ref:a,children:(0,s.jsx)("g",{transform:"translate(".concat(c/2-n.x,", ").concat(25,")"),children:(0,s.jsxs)("g",{ref:i,children:[null===n?null:n.descendants().slice(1).filter(e=>!e.data.isNull).map((e,t)=>(0,s.jsx)("line",{className:"stroke-dark-paper dark:stroke-paper stroke-1",x1:e.parent?e.parent.x:void 0,y1:e.parent?e.parent.y:void 0,x2:e.x,y2:e.y},t)),null===n?null:n.descendants().filter(e=>!e.data.isNull).map((e,t)=>(0,s.jsxs)("g",{transform:"translate(".concat(e.x,", ").concat(e.y,")"),children:[(0,s.jsx)("circle",{r:"1.2em",className:"fill-layer-1 stroke-dark-paper dark:fill-dark-layer-1 dark:stroke-paper stroke-1"}),(0,s.jsx)("foreignObject",{width:"2.4em",height:"2.4em",x:"-1.2em",y:"-1.2em",children:(0,s.jsx)("div",{className:"text-label-1 dark:text-dark-label-1 flex h-full w-full items-center justify-center p-[2px]",children:(0,s.jsx)("span",{className:"overflow-ellipsis",title:e.data.name,children:e.data.name})})})]},t))]})})})})};var _=l(31261),j=l(30545);let y=e=>e>1700?32:e>1300?16:e>700?8:e>400?4:2,T=e=>{let{data:t,paramType:l,onErrorChange:i,className:o,onTruncateChange:d,maxDepth:c=5}=e,{t:u}=(0,n.Bd)("console"),[h,f]=(0,r.useState)(null),m=(0,_.s)(h),g=(null==m?void 0:m.width)?m.width-10:400,{lastValidTree:x,isTreeTruncated:b,isParseFailed:v}=p(t,c||1/0,y(g));return((0,r.useEffect)(()=>{let e="";null==d||d(b),v&&(e=u("visualizer.parseFailed")),null==i||i(e)},[u,d,i,b,v]),l===j.Cz.Tree)?(0,s.jsx)("div",{ref:f,className:(0,a.xF)("max-h-[350px] min-h-[100px] overflow-x-auto overflow-y-hidden",o),children:(0,s.jsx)(w,{rootNode:x,dimensions:{width:g}})}):null}},42619:(e,t,l)=>{"use strict";l.d(t,{ht:()=>G,Vg:()=>V,kT:()=>Z,Pn:()=>U,zZ:()=>K,YW:()=>z});var s=l(77528),r=l(55456),n=l(4418),a=l(74848),i=l(84038),o=l(96540),d=l(36698),c=l(3519),u=l(36768),h=l(72556),f=l(82479),m=l(22331),g=l(93127),p=l(96807),x=l(15440),b=l(25800),v=l(64011),w=l(25810),_=l(63628),j=l(62598),y=l(16999),T=l(30045),A=l(52993),C=l(28877),M=l(29708),S=l(44249),N=l(50201),k=l(79548),E=l(30545);let F=(e,t)=>{for(let l=0;l<e.length;l++){let s=e[l];for(let e=0;e<s.length;e++)if(t===s[e])return{matchedTestcase:l,matchedParam:e}}return{matchedTestcase:-1,matchedParam:0}},R=(e,t,l)=>({matchedTestcase:void 0!==t&&t<e.length?t:-1,matchedParam:void 0!==l?l:0}),P=e=>{var t;let{failedTestcase:l,testcaseIndex:s,paramIndex:r,onClick:n}=e,{t:d}=(0,i.Bd)("console",{keyPrefix:"result"}),c=(0,N.r)(e=>e.setActiveTestcaseWithParam),h=(0,k.c)(e=>e.setActiveTab),m=!!(null===(t=(0,C.x)())||void 0===t?void 0:t.data),g=(0,_.U)(),p=(0,N.r)(e=>e.testcaseList),x=(0,o.useMemo)(()=>Array.isArray(p)&&p.length>0&&Array.isArray(p[0]),[p]),b=(0,o.useMemo)(()=>x?p:[],[x,p]),{matchedTestcase:v,matchedParam:w}=(0,o.useMemo)(()=>{let{matchedTestcase:e,matchedParam:t}=R(b,s,r);return -1!==e?{matchedTestcase:e,matchedParam:t}:void 0!==l?F(b,l):{matchedTestcase:-1,matchedParam:0}},[b,l,r,s]),y=(0,o.useCallback)(()=>{-1!==v&&(c(v,w),m?null==g||g.selectTab(j.mA.Testcase):h(E.n.Testcase),null==n||n())},[v,c,w,m,n,g,h]);return -1===v?null:(0,a.jsxs)("div",{className:"flex items-center text-xs font-medium",children:[(0,a.jsxs)("div",{className:(0,f.xF)("flex-1",u.MY.label3),children:["Case ",v+1]}),(0,a.jsxs)("div",{className:(0,f.xF)("flex cursor-pointer items-center gap-1 px-2 py-1 transition-colors",u.MY.label2,u.MY.label1Hover),onClick:y,children:[(0,a.jsx)(S.f,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:d("edit")})]})]})};var Y=l(42484),B=l(53921),I=l(13847),L=l(33932),D=l(81272),q=l(62805);let z=e=>{let{testcasePassed:t,totalTestcases:l}=e,{t:s}=(0,i.Bd)("console");return void 0===t||void 0===l?null:(0,a.jsxs)("div",{className:(0,f.xF)("text-xs",u.MY.label3),children:[(0,a.jsx)("span",{className:(0,f.xF)(u.MY.label3,"mr-1 text-xs font-medium"),children:"".concat(t," / ").concat(l," ")}),s("result.testcasesPassed")]})},V=e=>{let{input:t,questionSlug:l}=e,{t:s}=(0,i.Bd)("console"),r=(0,v.j_)(e=>e.questionSlug),n=null!=l?l:r,c=(0,_.U)(),h=(0,b.v)(n).data,p=(0,N.r)(e=>e.addTestcase),w=!(0,N.r)(e=>e.canAddTestcase)(),y=(0,N.r)(e=>e.testcaseList),T=(0,N.r)(e=>e.setActiveTestcase),A=h.metaData,C=(0,o.useMemo)(()=>(0,Y.vK)(A),[A]).type,M=(0,q.Ax)(C,[t])[0],S=(0,o.useCallback)(()=>{let e=y.findIndex(e=>(0,d.A)(e,M));-1===e?p(M,C):T(e),null==c||c.selectTab(j.mA.Testcase),null==c||c.unfoldTab(j.mA.Testcase),null==c||c.highlightTab(j.mA.Testcase),x.L.qdQuickTestClick({qd_version:(0,m.Su)(),qd_question_slug:n})},[c,p,n,T,M,y,C]);return(0,a.jsx)(D.D,{tooltipText:w?s("result.cantUseTestcaseAsInput"):void 0,onClick:w?void 0:S,children:(0,a.jsxs)("div",{className:(0,f.xF)("flex items-center","flex-row-reverse"),children:[(0,a.jsx)("span",{className:(0,f.xF)("text-xs",{[u.MY.label4]:w,[u.MY.label2]:!w,testcaseAsInputClass:"ml-2"}),children:s("result.useTestcaseAsInput")}),(0,a.jsx)(g.F,{width:16,height:16,className:(0,f.xF)("fill-gray-6 dark:fill-dark-gray-6",{"group-hover:fill-gray-7 dark:group-hover:fill-dark-gray-7":!w,"cursor-not-allowed":w})})]})})},W=e=>{let{diffs:t}=e;return(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>{let[l,s]=e;switch(l){case L.Ug:return(0,a.jsx)("span",{className:"leading-3.5 text-green-s dark:text-dark-green-s ",children:s},t);case L.Cm:return(0,a.jsx)("span",{className:"leading-3.5 text-red-s dark:text-dark-red-s",children:s},t);default:return(0,a.jsx)("span",{children:s},t)}})})},H=e=>{let{diffs:t}=e,l=(0,o.useMemo)(()=>{let e=t.length;if(!e)return[];let l=[(0,a.jsx)(W,{diffs:t[0]},0)];for(let s=1;s<e;s++)l.push((0,a.jsx)("br",{},"br_".concat(s))),l.push((0,a.jsx)(W,{diffs:t[s]},s));return l},[t]);return(0,a.jsx)(a.Fragment,{children:l})},O=e=>{var{content:t}=e,l=(0,n._)(e,["content"]);let{t:d}=(0,i.Bd)("console"),c=(0,o.useMemo)(()=>{if(t.length<=1e3)return t;let e=t.split("\n").map(e=>e.length<=1e3?e:"".concat(e.substring(0,1e3),"..."));if(e.length<=1e5)return e.join("\n");let l=e.length-1e5;return e.slice(0,1e5).join("\n")+"\n... ".concat(l," ").concat(d("result.moreLine",{count:l}))},[d,t]);return(0,a.jsx)(T.E6,(0,r._)((0,s._)({},l),{children:(0,a.jsx)("div",{children:c})}))},Q=e=>{let{paramName:t,content:l,paramType:s,visualiserEnabled:r,visualiserSupported:n,diffs:d,diffEnabled:c}=e,[g,p]=(0,o.useState)(""),b=g&&r,w=n&&r,_=w&&b,j=!w,{t:y}=(0,i.Bd)("console"),A=(0,o.useMemo)(()=>{if(!d)return[];let e=[],t=0;return d.forEach(l=>{if(t>1e3)return;let s=[];l.forEach(e=>{let[l,r]=e;t>1e3||((t+=r.length)>1e3?(s.push([l,r.slice(0,1e3-t)]),s.push([L.lw,"..."])):s.push([l,r]))}),e.push(s)}),e},[d]),C=A&&A.reduce((e,t)=>e+t.length,0)>0,[M,S]=(0,o.useState)(!1),[N,k]=(0,o.useState)(!1),E=(0,v.j_)(e=>e.questionSlug),F=(0,h._)(()=>{x.L.qdCheckAllTreeClick({qd_version:(0,m.Su)(),qd_question_slug:E}),k(!0)});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,f.xF)("group relative rounded-lg",{[u.MY.fill4]:!r,[u.MY.dividerBorder2]:r,"border-[1px]":r,"outline-red-s dark:outline-dark-red-s outline outline-1":b}),children:(0,a.jsxs)("div",{className:"relative py-3",children:[w&&(0,a.jsx)(B.w,{data:l,paramType:s,onErrorChange:p,className:(0,f.xF)({"invisible absolute top-0":b}),onTruncateChange:S}),_&&(0,a.jsx)(O,{header:(0,a.jsxs)(a.Fragment,{children:[" ",t&&(0,a.jsxs)("div",{className:(0,f.xF)("mx-3 mb-2 text-xs",u.MY.label3),children:[t," ="]})]}),lines:8,showViewAll:!0,content:l,copyValue:l,copyBtnClassName:"absolute right-0 top-0",truncatedResultClassName:(0,f.xF)("font-menlo mx-3 whitespace-pre-wrap leading-5 break-all",u.MY.label1)}),j&&(0,a.jsx)(a.Fragment,{children:c&&C?(0,a.jsxs)("div",{className:(0,f.xF)("font-menlo relative mx-3 whitespace-pre-wrap break-all leading-5",u.MY.label1),children:[(0,a.jsx)(T.fR,{copyValue:l,className:"absolute right-0 top-0"}),(0,a.jsx)(H,{diffs:A})]}):(0,a.jsx)(O,{header:(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsxs)("div",{className:(0,f.xF)("mx-3 mb-2 text-xs",u.MY.label3),children:[t," ="]})}),lines:8,showViewAll:!0,content:l,copyValue:l,copyBtnClassName:"absolute right-3 top-2.5 z-base-1",truncatedResultClassName:(0,f.xF)("font-menlo mx-3 whitespace-pre-wrap break-all leading-5",u.MY.label1)})})]})}),w&&(0,a.jsxs)(a.Fragment,{children:[M&&(0,a.jsx)("div",{className:(0,f.xF)("cursor-pointer text-xs",u.MY.labelBlueStandard),onClick:F,children:y("showFullTree")}),M&&(0,a.jsx)(I.N,{visible:N,onCancel:()=>k(!1),data:l,paramType:s})]}),b&&(0,a.jsx)(T.Ix,{children:(0,a.jsx)("div",{className:(0,f.xF)("text-xs",u.MY.labelRedStandard),children:g})})]})},U=e=>{let{metadata:t,input:l,visualise:s}=e,[r,n,i,o]=(0,Y.yo)(t,l);return(0,a.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,a.jsx)(Q,{paramName:t<r.length?r[t]:"",content:e,paramType:t<i.length?i[t]:"",visualiserSupported:t<o.length&&o[t],visualiserEnabled:s,diffEnabled:!1},t))})},Z=e=>{let{t}=(0,i.Bd)("console");return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:(0,f.xF)("mb-2 text-xs font-medium",u.MY.label3),children:t("result.input")}),(0,a.jsx)(U,(0,s._)({},e))]})},K=e=>{var t;let{heading:l,metadata:s,output:r,diffs:n,visualise:o,diffEnabled:d}=e,{t:h}=(0,i.Bd)("console"),m=(null==s?void 0:s.type)===w.yo.Algorithm&&(null===(t=s.return)||void 0===t?void 0:t.type)||"",g=(null==s?void 0:s.type)===w.yo.Algorithm&&E.zi[s.type]&&(0,Y.EL)(m);return(0,a.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:[(0,a.jsx)("div",{className:(0,f.xF)("flex text-xs font-medium",u.MY.label3),children:l}),(0,a.jsx)(Q,{paramName:"",content:r,paramType:m,visualiserSupported:g,visualiserEnabled:!!o,diffEnabled:!!d,diffs:n}),!g&&!!o&&(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(c.m_,{label:h("visualizer.outputDataTypeNotSupported"),children:(0,a.jsx)(p.G,{width:14,height:14,className:(0,f.xF)(u.MY.labelGrey6,u.MY.labelGrey7Hover)})}),(0,a.jsx)("div",{className:(0,f.xF)("ml-1.5 text-xs",u.MY.label3),children:h("visualizer.dataNotSupported")})]})]})},G=e=>{let{heading:t,errorMessage:l,stdout:s,testcasesPassed:r,totalTestcases:n,children:d,testcaseIndex:c,paramIndex:h,invalidTestcase:m,passedButTookTooLong:p,className:x,exceptionalTestcase:w,errorLines:S,errorClassName:F,questionSlug:R}=e,{t:B}=(0,i.Bd)("console"),I=(0,o.useMemo)(()=>{if(m)return(0,Y._3)(l||"")},[m,l]),L=(0,v.j_)(e=>e.questionSlug),D=(0,v.j_)(e=>e.isDynamicLayout),q=(0,b.v)(R||L).data.metaData,V=(0,o.useMemo)(()=>(0,Y.vK)(q),[q]),W=(0,N.r)(e=>e.setActiveTestcaseWithParam),H=(0,k.c)(e=>e.setActiveTab),{data:O}=(0,C.x)(),Q=(0,_.U)(),Z=(0,o.useCallback)(()=>{w&&!(w.testcaseIndex<0)&&(W(w.testcaseIndex,w.paramIndex),O?(null==Q||Q.selectTab(j.mA.Testcase),null==Q||Q.unfoldTab(j.mA.Testcase),null==Q||Q.highlightTab(j.mA.Testcase)):H(E.n.Testcase))},[Q,w,O,H,W]);return(0,a.jsxs)("div",{className:(0,f.xF)("mx-5 my-4 space-y-4",{"space-y-2":void 0!==c},x),children:[t&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex w-full flex-wrap items-center",children:[(0,a.jsx)("span",{className:(0,f.xF)("mr-2 whitespace-nowrap text-xl font-medium",u.MY.labelRedStandard,{"mr-1 flex-1":D}),"data-e2e-locator":"console-result",children:t}),(0,a.jsx)(z,{testcasePassed:r,totalTestcases:n})]})}),p&&(0,a.jsx)("div",{className:(0,f.xF)(u.MY.fill4,u.MY.labelRedStandard,"mb-4 flex w-full flex-col gap-4 rounded-lg px-3 py-2 text-xs"),children:B("result.testPassedButTookTooLong")}),m&&(0,a.jsx)("div",{children:(0,a.jsx)(P,{failedTestcase:I,testcaseIndex:c,paramIndex:h})}),l&&(0,a.jsx)(y.s,{workFlowType:M.ij.SelectedSubmissionError,children:(0,a.jsx)("div",{className:(0,f.xF)("group relative rounded-lg bg-[rgba(246,54,54,0.08)] px-3 py-4 dark:bg-[rgba(248,97,92,0.08)]",F),children:(0,a.jsx)(T.E6,{showViewAll:!0,copyValue:l,copyBtnClassName:"absolute right-2.5 top-2.5",lines:S,children:(0,a.jsx)("div",{className:(0,f.xF)("font-menlo whitespace-pre-wrap break-all text-xs",A.B8.labelRed60),children:l})})})}),d,s&&(0,a.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2 rounded-lg",children:[(0,a.jsx)("div",{className:(0,f.xF)("flex flex-row text-[12px] font-medium",A.B8.labelTextTertiary),children:(0,a.jsx)("span",{children:B("result.stdout")})}),(0,a.jsx)("div",{className:(0,f.xF)("relative rounded-lg px-3 py-[10px]",A.B8.bgFillQuaternary),children:(0,a.jsx)("div",{className:(0,f.xF)("font-menlo group w-full resize-none whitespace-pre-wrap break-all rounded-lg text-sm leading-5"),children:(0,a.jsx)(T.E6,{copyValue:s,showViewAll:!0,showOpenRaw:!0,copyBtnClassName:"absolute right-2.5 top-2.5",title:B("result.stdout"),children:(0,a.jsx)("div",{children:s})})})})]}),w&&w.failedTestcase&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,f.xF)("mb-2 flex items-center justify-between text-xs font-medium",u.MY.label3),children:[B("result.lastExecutedInput"),(0,a.jsxs)("a",{className:"flex cursor-pointer items-center",onClick:Z,children:[B("result.openTestcase"),(0,a.jsx)(g.F,{width:16,height:16,className:(0,f.xF)("fill-gray-6 dark:fill-dark-gray-6 group-hover:fill-gray-7 dark:group-hover:fill-dark-gray-7 ml-1")})]})]}),(0,a.jsx)(U,{metadata:V,input:w.failedTestcase,visualise:!1})]})]})}},27482:(e,t,l)=>{"use strict";l.d(t,{s:()=>n});var s=l(29708),r=l(62598);let n=e=>{switch(e){case r.mA.Code:return s.wE.Code;case r.mA.Description:return s.wE.Description;case r.mA.SubmissionDetail:return s.wE.SubmissionDetail;case r.mA.SubmissionDetail:case r.mA.SubmissionDetail:case r.mA.Solutions:return s.wE.Solution;default:return s.wE.Description}}},16999:(e,t,l)=>{"use strict";l.d(t,{s:()=>C});var s=l(77528),r=l(55456),n=l(4418),a=l(74848),i=l(84038),o=l(96540),d=l(42412),c=l(15457),u=l(11475),h=l(29708),f=l(64011),m=l(63628),g=l(27482),p=l(86306),x=l(95361),b=l(18491),v=l(82479);let w=(0,o.createContext)(null),_=(0,o.memo)(e=>{let{renderPopover:t,position:l,selection:s,style:r,floatingRef:n}=e;return(0,a.jsx)("div",{ref:n,style:r,role:"tooltip","aria-live":"polite",children:t({position:l,selection:s})})});_.displayName="PopoverContent";let j=(0,o.memo)(function(e){let{children:t,renderPopover:l,className:r="",zIndex:n=40,minSelectionLength:i=1,onSelectionStart:d,onSelectionEnd:c,onPopoverShow:u,onPopoverHide:h,offsetPx:f=8,placement:m="top-start"}=e,[g,j]=(0,o.useState)(!1),[y,T]=(0,o.useState)(""),A=(0,o.useRef)(null),C=(0,o.useRef)(null),M=(0,o.useRef)({getBoundingClientRect:()=>new DOMRect}),{refs:S,floatingStyles:N,update:k}=(0,p.we)({placement:m,middleware:[(0,x.cY)(f),(0,x.UU)(),(0,x.BN)()],whileElementsMounted:b.ll});(0,o.useEffect)(()=>{S.setReference(M.current)},[S]);let E=(0,o.useCallback)(e=>{if(!A.current)return!1;let t=A.current;return Array.from({length:e.rangeCount}).every((l,s)=>{let r=e.getRangeAt(s);return t.contains(r.commonAncestorContainer)&&t.contains(r.startContainer)&&t.contains(r.endContainer)})},[]),F=(0,o.useCallback)(()=>{if(!C.current)return;let e=C.current.getBoundingClientRect();M.current.getBoundingClientRect=()=>e,k()},[k]),R=(0,o.useCallback)(()=>{let e=window.getSelection();if(e&&e.toString().trim().length>=i&&E(e)&&e.rangeCount>0){null==d||d();let t=e.getRangeAt(0);C.current=t,F(),T(e.toString()),j(!0),null==u||u(),null==c||c(e.toString())}else j(!1),null==h||h()},[E,i,d,c,u,h,F]);(0,o.useEffect)(()=>{let e=()=>{requestAnimationFrame(R)};document.addEventListener("selectionchange",e);let t=function(e){if(!e)return document.documentElement;let t=e.parentElement;for(;t&&t!==document.documentElement;){let{overflow:e,overflowX:l,overflowY:s}=window.getComputedStyle(t),r=["auto","scroll"].some(t=>[e,l,s].includes(t)),n=t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth;if(r&&n)return t;t=t.parentElement}return document.documentElement}(A.current);return t.addEventListener("scroll",F),()=>{document.removeEventListener("selectionchange",e),t.removeEventListener("scroll",F)}},[R,F]);let P=(0,o.useMemo)(()=>{let e=N.transform,t=null==e?void 0:e.match(/translate3d\(([^,]+),\s*([^,]+),/);return t?{left:parseFloat(t[1])||0,top:parseFloat(t[2])||0}:{top:0,left:0}},[N.transform]),Y=(0,o.useMemo)(()=>({showPopover:g,setShowPopover:j,popoverPosition:P,currentSelection:y,setCurrentSelection:T}),[g,P,y]),B=(0,o.useMemo)(()=>(0,s._)({userSelect:"none",zIndex:n,width:"max-content"},N),[n,N]);return(0,a.jsx)(w.Provider,{value:Y,children:(0,a.jsxs)("div",{ref:A,style:{position:"relative"},className:(0,v.xF)("flex flex-col",r),children:[t,(0,a.jsx)("span",{style:{fontSize:0,lineHeight:0},children:"\xa0"}),g&&(0,a.jsx)(_,{renderPopover:l,position:P,selection:y,style:B,floatingRef:S.setFloating})]})})});var y=l(71320),T=l(15440),A=l(28066);function C(e){var{children:t,workFlowType:l=h.ij.SelectedText,placement:p="top-end"}=e,x=(0,n._)(e,["children","workFlowType","placement"]);let b=(0,f.j_)(e=>e.isActiveAiChat),[v,w]=(0,o.useState)([]),[_,C]=(0,o.useState)([]),[M,S]=(0,o.useState)([]),[N,k]=(0,o.useState)(!1),E=(0,m.U)(),{t:F}=(0,i.Bd)("problems"),R=(e,t)=>{var l,n;let a=e.action,i=null==E?void 0:null===(l=E.getActiveTab())||void 0===l?void 0:l.getComponent();if(T.L.qdLeetToolbarClick((0,r._)((0,s._)({},(0,y.EM)()),{qd_tool:e.label,qd_type:i})),a===u.ZW.AddChat){c.O.send({type:u.ZW.AddChat,payload:{quoteContent:{type:(0,g.s)(i),content:t}}});return}c.O.send({type:u.ZW.IdeTabChange,payload:{tab:e.workflowWhere,variables:{workflowId:null!==(n=e.workflowId)&&void 0!==n?n:"",workflowName:e.label,selectedText:t,ideTab:i}}})},P=(e,t,l)=>{e.preventDefault(),e.stopPropagation();let s=window.getSelection();null==s||s.removeAllRanges(),R(t,l)};(0,o.useEffect)(()=>{let e=c.O.subscribe(e=>{var t;if(e.type!==u.ZW.SetPopoverCommand)return;let l=null!==(t=e.payload.workflowData)&&void 0!==t?t:[],s=[],r=[],n=[];l.forEach(e=>{e.whereList.includes(h.ij.SelectedSubmissionCode)&&s.push({label:e.name,workflowId:e.id,workflowWhere:h.ij.SelectedSubmissionCode}),e.whereList.includes(h.ij.SelectedSubmissionError)&&r.push({label:e.name,workflowId:e.id,workflowWhere:h.ij.SelectedSubmissionError}),e.whereList.includes(h.ij.SelectedText)&&n.push({label:e.name,workflowId:e.id,workflowWhere:h.ij.SelectedText})}),w(s),C(r),S(n)});return()=>e()},[]),(0,o.useEffect)(()=>{c.O.send({type:u.ZW.TriggerSetPopoverCommand})},[l]);let Y=()=>l===h.ij.SelectedSubmissionCode?[...v,{label:F("aiPopover.addToChat"),node:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[F("aiPopover.addToChat"),(0,a.jsx)(A.u,{children:"Leet"})]}),action:u.ZW.AddChat}]:l===h.ij.SelectedSubmissionError?[..._,{label:F("aiPopover.addToChat"),node:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[F("aiPopover.addToChat"),(0,a.jsx)(A.u,{children:"Leet"})]}),action:u.ZW.AddChat}]:[...M,{label:F("aiPopover.addToChat"),node:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[F("aiPopover.addToChat"),(0,a.jsx)(A.u,{children:"Leet"})]}),action:u.ZW.AddChat}];return(0,o.useEffect)(()=>{var e;if(!N)return;let t=null==E?void 0:null===(e=E.getActiveTab())||void 0===e?void 0:e.getComponent();T.L.qdLeetToolbarExposure((0,r._)((0,s._)({},(0,y.EM)()),{qd_tool:"",qd_type:t}))},[E,N]),(0,a.jsx)(j,(0,r._)((0,s._)({className:"w-full",renderPopover:e=>{let{selection:t}=e;return b?(0,a.jsx)("div",{className:"border-sd-border rounded-sd-md z-dropdown-1 bg-sd-popover pointer-events-auto flex select-none border shadow-md",children:Y().map(e=>{var l;return(0,a.jsx)(d.$,{size:"xs",variant:"ghost",className:"cursor-pointer whitespace-nowrap",onClick:l=>P(l,e,t),children:null!==(l=e.node)&&void 0!==l?l:e.label},e.label)})}):null},placement:p,onPopoverShow:()=>{k(!0)},onPopoverHide:()=>{k(!1)}},x),{children:t}))}},8900:(e,t,l)=>{var s=l(25072),r="string"==typeof s?[[e.id,s,""]]:s;(t=e.exports=s.locals||{})._getContent=function(){return r},t._getCss=function(){return""+s}}}]);